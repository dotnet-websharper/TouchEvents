import { Start as fG } from "./WebSharper.Core.JavaScript/Runtime.js"
import { Lazy as fH, MarkResizable as fI, SetOptional as fJ, GetOptional as fK, CreateFuncWithArgs as fL, DeleteEmptyFields as fM, Force as fN, Create as fO, OnLoad as fP } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fQ){ return"Dispose"in fQ;}
function b(){ const fQ=new o("New_1");const fR=(fQ.h.push(new u0032("touchinit", () => { c();})),fQ);const fS=F(fR.k, fR.h, []);const fT=new j(fS[1], A(fS[0]));let fU=(fR.i=fT,fT);const fV=fU.Doc;H("");Z.RunById("main", fV);}
function c(){ const fQ=globalThis.document.getElementById("touchBox");const fR=globalThis.document.getElementById("status");fQ.addEventListener("touchstart", (fS) => { const fT=fS.touches.item(0);const fU=fQ.getBoundingClientRect();d().Set(fT.clientX-fU.left);e().Set(fT.clientY-fU.top);fR.textContent="Touch started!";});fQ.addEventListener("touchmove", (fS) => { fS.preventDefault();const fT=fS.touches.item(0);fQ.style.left=(fT.clientX-d().Get()).toFixed(6)+"px";fQ.style.top=(fT.clientY-e().Get()).toFixed(6)+"px";fR.textContent="Moving to: ("+fT.clientX.toFixed(6)+", "+fT.clientY.toFixed(6)+")";});fQ.addEventListener("touchend", () => { fR.textContent="Touch ended!";});}
function d(){ return u0033.offsetX;}
function e(){ return u0033.offsetY;}
function f(fQ){ throw new Error(fQ);}
function g(fQ){ return[fQ.K, fQ.V];}
function h(fQ, fR){ const fS=1+fR-fQ;return fS<=0?[]:bd(fS, (fT) => fT+fQ);}
let i=fH((fQ) => class fR { static { i=fQ(this);} Equals(fS){ return this===fS;} GetHashCode(){ return -1;} });
let j=fH((fQ) => class fR extends i { static { j=fQ(this);} doc;allVars;anchorRoot;get Doc(){ return this.doc;} constructor(fS, fT){ super();this.doc=fT;this.allVars=fS.$==0?fS.$0:f("Should not happen");this.anchorRoot=null;} });
function k(fQ, fR){ m(fQ, fR);return fQ[fR];}
function l(fQ, fR, fS){ m(fQ, fR);fQ[fR]=fS;}
function m(fQ, fR){ if(fR<0||fR>=fQ.length)f("Index was outside the bounds of the array.");}
function n(fQ){ return fQ.dims===2?fQ.length*fQ.length:fQ.length;}
let o=fH((fQ) => class fR extends i { static { o=fQ(this);} i;k;h;s;static New_1(){ return new this("New_1");} constructor(fS){ if(fS=="New_1"){ let fT;super();this.i=null;this.k=(fT=C(),String(fT));this.h=fI([]);fJ(this, "s", null);} } });
function p(fQ, fR){ if(fQ===fR)return true;else { const fS=typeof fQ;if(fS=="object"){ if(fQ===null||fQ===void 0||fR===null||fR===void 0||!p(typeof fR, "object"))return false;else if("Equals"in fQ)return fQ.Equals(fR);else if("Equals"in fR)return false;else if(fQ instanceof Array&&fR instanceof Array)return q(fQ, fR);else if(fQ instanceof Date&&fR instanceof Date)return r(fQ, fR);else { const fT=[true];let fU;for(var fW in fQ)if(((fX) => { fT[0]=!fQ.hasOwnProperty(fX)||fR.hasOwnProperty(fX)&&p(fQ[fX], fR[fX]);return!fT[0];})(fW))break;if(fT[0]){ let fV;for(var fX in fR)if(((fY) => { fT[0]=!fR.hasOwnProperty(fY)||fQ.hasOwnProperty(fY);return!fT[0];})(fX))break;} return fT[0];} } else return fS=="function"&&("$Func"in fQ?fQ.$Func===fR.$Func&&fQ.$Target===fR.$Target:"$Invokes"in fQ&&"$Invokes"in fR&&q(fQ.$Invokes, fR.$Invokes));} }
function q(fQ, fR){ let fS;let fT;if(n(fQ)===n(fR)){ fS=true;fT=0;while(fS&&fT<n(fQ)){!p(k(fQ, fT), k(fR, fT))?fS=false:void 0;fT=fT+1;} return fS;} else return false;}
function r(fQ, fR){ return fQ.getTime()===fR.getTime();}
function s(fQ){ const fR=typeof fQ;return fR=="function"?0:fR=="boolean"?fQ?1:0:fR=="number"?fQ:fR=="string"?t(fQ):fR=="object"?fQ==null?0:fQ instanceof Array?u(fQ):v(fQ):0;}
function t(fQ){ let fR;if(fQ===null)return 0;else { fR=5381;for(let fS=0, fT=fQ.length-1;fS<=fT;fS++)fR=w(fR, fQ[fS].charCodeAt());return fR;} }
function u(fQ){ let fR=-34948909;for(let fS=0, fT=n(fQ)-1;fS<=fT;fS++)fR=w(fR, s(k(fQ, fS)));return fR;}
function v(fQ){ if("GetHashCode"in fQ)return fQ.GetHashCode();else { const fR=[0];let fS;for(var fT in fQ)if(((fU) => { fR[0]=w(w(fR[0], t(fU)), s(fQ[fU]));return false;})(fT))break;return fR[0];} }
function w(fQ, fR){ return(fQ<<5)+fQ+fR;}
function x(fQ, fR){ if(fQ===fR)return 0;else { const fS=typeof fQ;switch(fS=="function"?1:fS=="boolean"?2:fS=="number"?2:fS=="string"?2:fS=="object"?3:0){ case 0:return typeof fR=="undefined"?0:-1;case 1:return f("Cannot compare function values.");case 2:return fQ<fR?-1:1;case 3:if(fQ===null)return -1;else if(fR===null)return 1;else if("CompareTo"in fQ)return fQ.CompareTo(fR);else if("CompareTo0"in fQ)return fQ.CompareTo0(fR);else if(fQ instanceof Array&&fR instanceof Array)return y(fQ, fR);else if(fQ instanceof Date&&fR instanceof Date)return z(fQ, fR);else { const fT=[0];let fU;for(var fW in fQ)if(((fX) =>!fQ.hasOwnProperty(fX)?false:!fR.hasOwnProperty(fX)?(fT[0]=1,true):(fT[0]=x(fQ[fX], fR[fX]),fT[0]!==0))(fW))break;if(fT[0]===0){ let fV;for(var fX in fR)if(((fY) =>!fR.hasOwnProperty(fY)?false:!fQ.hasOwnProperty(fY)&&(fT[0]=-1,true))(fX))break;} return fT[0];} break;} } }
function y(fQ, fR){ let fS;let fT;if(n(fQ)<n(fR))return -1;else if(n(fQ)>n(fR))return 1;else { fS=0;fT=0;while(fS===0&&fT<n(fQ)){ fS=x(k(fQ, fT), k(fR, fT));fT=fT+1;} return fS;} }
function z(fQ, fR){ return x(fQ.getTime(), fR.getTime());}
function A(fQ){ H("index");return fQ?I("index", G("main"), fQ):void 0;}
function B(fQ){ const fR={};const fS=bO(fQ);try { while(fS.MoveNext()){ const fT=fS.Current;fR[fT[0]]=fT[1];} } finally { if(typeof fS=="object"&&a(fS))fS.Dispose();} return fR;}
function C(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (fQ) => { const fR=Math.random()*16|0;const fS=fQ=="x"?fR:fR&3|8;return fS.toString(16);});}
function D(fQ){ let fR=[];let fS;for(var fT in fQ)fR.push(fQ[fT]);return fR;}
let E=fH((fQ) => class fR extends i { static { E=fQ(this);} });
function F(fQ, fR, fS){ const fT=new u0030("New_5");const fU=new u0034("New_3");const fV=bO(fR);try { while(fV.MoveNext()){ const fW=fV.Current;const fX=fW.Name;fU.SAdd(fX);fT.set_Item(fX, fW);} } finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} return[u0035(fR, bj((fY) => { const fZ=fY[0];const f0=fY[1];const f1=fY[2];if(fU.Contains(fZ))return null;else { const f2=f0===0?by.GetOrAddHoleFor(fQ, fZ, () => { const f3=f1==null?null:G(f1.$0);let f4=bA.Create_1(f3==null?"":f3.$0);return new bz(fZ, f4);}):f0===1?by.GetOrAddHoleFor(fQ, fZ, () => { const f3=f1==null?null:G(f1.$0);let f4=bA.Create_1(f3==null?0:f3.$0);return new bB(fZ, f4);}):f0===2?by.GetOrAddHoleFor(fQ, fZ, () => { const f3=f1==null?null:G(f1.$0);let f4=bA.Create_1(f3==null?false:f3.$0);return new bC(fZ, f4);}):f0===3?by.GetOrAddHoleFor(fQ, fZ, () => { const f3=f1==null?null:G(f1.$0);let f4=bA.Create_1(f3==null?-8640000000000000:f3.$0);return new bD(fZ, f4);}):f0===4?by.GetOrAddHoleFor(fQ, fZ, () => new bE(fZ, bA.Create_1([]))):f0===5?by.GetOrAddHoleFor(fQ, fZ, () => new bF(fZ, bA.Create_1(G(globalThis.document.querySelector("[ws-dom="+fZ+"]"))))):f0===6?by.GetOrAddHoleFor(fQ, fZ, () => { const f3=f1==null?null:G(f1.$0);let f4=bA.Create_1(f3==null?[]:f3.$0);return new bG(fZ, f4);}):f("Invalid value type");fT.set_Item(fZ, f2);return G(f2);} }, fS)), {$:0, $0:fT}];}
function G(fQ){ return{$:1, $0:fQ};}
function H(fQ){!J()?(K(true),L(globalThis.document.body, "")):void 0;M().set_Item(fQ, N(""));}
function I(fQ, fR, fS){ let fT;const fU=(fT=null,[N(fQ).TryGetValue(fR==null?"":fR.$0, {get:() => fT, set:(fV) => { fT=fV;}}), fT]);return fU[0]?O(fU[1].cloneNode(true), fS):(console.warn("Local template doesn't exist", fR),Z.Empty);}
function J(){ return cf.LocalTemplatesLoaded;}
function K(fQ){ cf.LocalTemplatesLoaded=fQ;}
function L(fQ, fR){ const fS=N(fR);const fT=new u0030("New_5");const fU=fQ.querySelectorAll("[ws-template]");for(let f6=0, f7=fU.length-1;f6<=f7;f6++){ const fV=fU[f6];const fW=fV.getAttribute("ws-template").toLowerCase();fV.removeAttribute("ws-template");fT.set_Item(fW, P(fV));} const fX=fQ.querySelectorAll("[ws-children-template]");for(let f8=0, f9=fX.length-1;f8<=f9;f8++){ const fY=fX[f8];const fZ=fY.getAttribute("ws-children-template").toLowerCase();fY.removeAttribute("ws-children-template");fT.set_Item(fZ, Q(fY));} const f0=fQ.querySelectorAll("template[id]");for(let f_=0, f$=f0.length-1;f_<=f$;f_++){ const f1=f0[f_];fT.set_Item(f1.getAttribute("id").toLowerCase(), R(f1));} const f2=fQ.querySelectorAll("template[name]");for(let ga=0, gb=f2.length-1;ga<=gb;ga++){ const f3=f2[ga];fT.set_Item(f3.getAttribute("name").toLowerCase(), R(f3));} const f4=new u0034("New_3");function f5(gc){ if(!fS.ContainsKey(gc)){ let gd;const ge=(gd=null,[fT.TryGetValue(gc, {get:() => gd, set:(gf) => { gd=gf;}}), gd]);if(ge[0]){ f4.SAdd(gc);fT.RemoveKey(gc);S(fR, G(gc), ge[1], G(f5));} else console.warn(f4.Contains(gc)?"Encountered loop when instantiating "+gc:"Local template does not exist: "+gc);} } while(fT.count>0)f5(u0036(fT.Keys));}
function M(){ return cf.LoadedTemplates;}
function N(fQ){ let fR;const fS=(fR=null,[M().TryGetValue(fQ, {get:() => fR, set:(fU) => { fR=fU;}}), fR]);if(fS[0])return fS[1];else { const fT=new u0030("New_5");M().set_Item(fQ, fT);return fT;} }
function O(fQ, fR){ let fS;const fT=T(fQ, u0035(fR, U().Values));const fU=fT[1];const fV=fT[0];const fW=fV.Els;return!p(fW, null)&&fW.length===1&&(k(fW, 0)instanceof Node&&(p(k(fW, 0).nodeType, Node.ELEMENT_NODE)&&(fS=k(fW, 0),true)))?cH.TreeNode(fV, fU):Z.Mk(bI(fV), fU);}
function P(fQ){ fQ.removeAttribute("ws-template");const fR=fQ.getAttribute("ws-replace");if(fR==null){ } else { fQ.removeAttribute("ws-replace");const fS=fQ.parentNode;if(p(fS, null)){ } else { const fT=globalThis.document.createElement(fQ.tagName);fT.setAttribute("ws-replace", fR);fS.replaceChild(fT, fQ);} } const fU=globalThis.document.createElement("div");fU.appendChild(fQ);return fU;}
function Q(fQ){ const fR=globalThis.document.createElement("div");while(fQ.hasChildNodes())fR.appendChild(fQ.firstChild);return fR;}
function R(fQ){ const fR=globalThis.document.createElement("div");const fS=fQ.content;for(let fT=0, fU=fS.childNodes.length-1;fT<=fU;fT++)fR.appendChild(fS.childNodes[fT].cloneNode(true));return fR;}
function S(fQ, fR, fS, fT){ const fU=new u0034("New_3");function fV(f2, f3){ while(true)switch(f2){ case 0:if(f3!==null){ const f4=f3.nextSibling;if(p(f3.nodeType, Node.TEXT_NODE))cQ(f3);else if(p(f3.nodeType, Node.ELEMENT_NODE))fX(f3);f3=f4;} else return null;break;case 1:const f5=cY(f3.nodeName, G(3), null).toLowerCase();const f6=f5.indexOf(".");const f7=f6===-1?[fQ, f5]:[cY(f5, null, G(f6-1)), cY(f5, G(f6+1), null)];const f8=f7[1];const f9=f7[0];if(f9!=""&&!M().ContainsKey(f9))return cR(f8);else { if(f9==""&&fT!=null)fT.$0(f8);const f_=M().Item(f9);if(!f_.ContainsKey(f8))return cR(f8);else { const f$=f_.Item(f8);const ga=f$.cloneNode(true);const gb=new u0034("New_3");const gc=new u0030("New_5");const gd=f3.attributes;for(let gn=0, go=gd.length-1;gn<=go;gn++){ const ge=gd.item(gn).name.toLowerCase();const gf=gd.item(gn).nodeValue;let gg=gf==""?ge:gf.toLowerCase();gc.set_Item(ge, gg);if(!gb.SAdd(ge))console.warn("Hole mapped twice", ge);} for(let gp=0, gq=f3.childNodes.length-1;gp<=gq;gp++){ const gh=f3.childNodes[gp];if(p(gh.nodeType, Node.ELEMENT_NODE))if(!gb.SAdd(gh.nodeName.toLowerCase()))console.warn("Hole filled twice", f8);} const gi=f3.childNodes.length===1&&p(f3.firstChild.nodeType, Node.TEXT_NODE);if(gi){ const gj=cS(ga, f3.firstChild.textContent, f8);const gk=((gr) =>(gs) => gr.SAdd(gs))(gb);let gl=((gr) =>(gs) => { if(gs!=null)gr(gs.$0);})((gr) => { gk(gr);});gl(gj);} cT(ga, gb);if(!gi){ for(let gr=0, gs=f3.childNodes.length-1;gr<=gs;gr++){ const gm=f3.childNodes[gr];if(p(gm.nodeType, Node.ELEMENT_NODE))if(gm.hasAttributes())cU(ga, gm);else fW(ga, gm);} } cV(ga, gc);cW(ga, f3.parentNode, f3);f3.parentNode.removeChild(f3);return;} } break;} } function fW(f2, f3){ const f4=f3.nodeName.toLowerCase();const f5=(f9, f_) => { if(f4=="title"&&f3.hasChildNodes()){ const f$=cZ(f3.textContent);f3.removeChild(f3.firstChild);while(f$.hasChildNodes())f3.appendChild(f$.firstChild);} fX(f3);return cW(f3, f9, f_);};V(f2, "[ws-attr-holes]", (f9) => { const f_=d0(f9.getAttribute("ws-attr-holes"), [" "], 1);for(let gc=0, gd=f_.length-1;gc<=gd;gc++){ const f$=k(f_, gc);let ga=new RegExp("\\${"+f4+"}", "ig");let gb=f9.getAttribute(f$).replace(ga, f3.textContent);f9.setAttribute(f$, gb);} });const f6=f2.querySelector("[ws-hole="+f4+"]");if(p(f6, null)){ const f7=f2.querySelector("[ws-replace="+f4+"]");if(p(f7, null)){ const f8=f2.querySelector("slot[name="+f4+"]");return f2.tagName.toLowerCase()=="template"?(f5(f8.parentNode, f8),void f8.parentNode.removeChild(f8)):null;} else { f5(f7.parentNode, f7);f7.parentNode.removeChild(f7);return;} } else { while(f6.hasChildNodes())f6.removeChild(f6.lastChild);f6.removeAttribute("ws-hole");return f5(f6, null);} } function fX(f2){ if(!f2.hasAttribute("ws-preserve"))if(d1(f2.nodeName.toLowerCase(), "ws-"))fZ(f2);else { cX(f2);fY(f2.firstChild);} } function fY(f2){ return fV(0, f2);} function fZ(f2){ return fV(1, f2);} function f0(f2){ while(true){ const f3=f2.querySelector("[ws-template]");if(p(f3, null)){ const f4=f2.querySelector("[ws-children-template]");if(p(f4, null)){ const f5=f2.querySelectorAll("template[id]");for(let f$=1, ga=f5.length-1;f$<=ga;f$++){ const f6=f5[f$];if(fU.Contains(f6)){ } else { S(fQ, G(f6.getAttribute("id")), f6, null);fU.SAdd(f6);} } const f7=f2.querySelectorAll("template[name]");for(let gb=1, gc=f7.length-1;gb<=gc;gb++){ const f8=f7[gb];if(fU.Contains(f8)){ } else { S(fQ, G(f8.getAttribute("name")), f8, null);fU.SAdd(f8);} } return null;} else { const f9=f4.getAttribute("ws-children-template");f4.removeAttribute("ws-children-template");S(fQ, G(f9), f4, null);f2=f2;} } else { const f_=f3.getAttribute("ws-template");(W(fQ, G(f_), f3))(null);f2=f2;} } } const f1=(fR==null?"":fR.$0).toLowerCase();N(fQ).set_Item(f1, fS);if(fS.hasChildNodes()){ f0(fS);fY(fS.firstChild);} }
function T(fQ, fR){ let fS;const fT=[];const fU=[];const fV=[];const fW=[];const fX=new u0030("New_5");const fY=bO(fR);try { while(fY.MoveNext()){ const fZ=fY.Current;fX.set_Item(fZ.Name, fZ);} } finally { if(typeof fY=="object"&&a(fY))fY.Dispose();} let f0=c0(fQ);const f1=(f_, f$) => { const ga=dn(f_, f$);fU.push(do_1(ga));fV.push([f_, ga]);const gb=fK(ga.OnAfterRender);if(gb==null)return null;else { const gc=gb.$0;fW.push(() => { gc(f_);});return;} };const f2=(f_) => { let f$;const ga=(f$=null,[fX.TryGetValue(f_, {get:() => f$, set:(gd) => { f$=gd;}}), f$]);if(ga[0]){ const gb=ga[1];if(gb instanceof dE)return G(gb.Value);else if(gb instanceof dF)return G(Z.TextNode(gb.Value));else { const gc=gb.ForTextView();return gc==null?null:G(Z.TextView(gc.$0));} } else return null;};V(fQ, "[ws-hole]", (f_) => { const f$=f_.getAttribute("ws-hole");f_.removeAttribute("ws-hole");while(f_.hasChildNodes())f_.removeChild(f_.lastChild);const ga=f2(f$);if(ga!=null&&ga.$==1){ const gb=ga.$0;cg(f_, gb.docNode);fT.push(cA.New(dp(f_), gb.docNode, null, f_, cB(), null));fU.push(gb.updates);} });V(fQ, "[ws-replace]", (f_) => { const f$=f2(f_.getAttribute("ws-replace"));if(f$!=null&&f$.$==1){ const ga=f$.$0;const gb=f_.parentNode;const gc=globalThis.document.createTextNode("");gb.replaceChild(gc, f_);const gd=cl(gc, ga.docNode);f0=c0(fQ);const ge=bk((gf) => f_===gf, f0);if(ge==null){ } else l(f0, ge.$0, ga.docNode);fT.push(cA.New(dp(gb), ga.docNode, G([gd, gc]), gb, cB(), null));fU.push(ga.updates);} });let f3=false;V(fQ, "slot", (f_) => { const f$=f_.getAttribute("name");const ga=f$==""||f$==null?"default":f$.toLowerCase();if(f3&&ga=="default"||!p(fQ.parentElement, null)){ } else { while(f_.hasChildNodes())f_.removeChild(f_.lastChild);if(ga=="default")f3=true;const gb=f2(ga);if(gb!=null&&gb.$==1){ const gc=gb.$0;cg(f_, gc.docNode);fT.push(cA.New(dp(f_), gc.docNode, null, f_, cB(), null));fU.push(gc.updates);} } });V(fQ, "[ws-attr]", (f_) => { let f$;const ga=f_.getAttribute("ws-attr");f_.removeAttribute("ws-attr");const gb=(f$=null,[fX.TryGetValue(ga, {get:() => f$, set:(gd) => { f$=gd;}}), f$]);if(gb[0]){ const gc=gb[1];if(gc instanceof dG)f1(f_, gc.Value);else console.warn("Attribute hole filled with non-attribute data", ga);} });V(fQ, "[ws-on]", (f_) => { f1(f_, dU.Concat(bj((f$) => { let ga;const gb=d0(f$, [":"], 1);const gc=(ga=null,[fX.TryGetValue(k(gb, 1), {get:() => ga, set:(ge) => { ga=ge;}}), ga]);if(gc[0]){ const gd=gc[1];return gd instanceof dH?G(dI(k(gb, 0), gd.Value)):gd instanceof dT?G(dU.Handler(k(gb, 0), gd.Value)):(console.warn("Event hole on"+k(gb, 0)+" filled with non-event data", k(gb, 1)),null);} else return null;}, d0(f_.getAttribute("ws-on"), [" "], 1))));f_.removeAttribute("ws-on");});V(fQ, "[ws-onafterrender]", (f_) => { let f$;const ga=f_.getAttribute("ws-onafterrender");const gb=(f$=null,[fX.TryGetValue(ga, {get:() => f$, set:(gd) => { f$=gd;}}), f$]);if(gb[0]){ const gc=gb[1];if(gc instanceof dV){ f_.removeAttribute("ws-onafterrender");f1(f_, dJ(gc.Value));} else if(gc instanceof u0032){ f_.removeAttribute("ws-onafterrender");f1(f_, dJ(gc.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", ga);} });V(fQ, "[ws-var]", (f_) => { let f$;const ga=f_.getAttribute("ws-var");f_.removeAttribute("ws-var");const gb=(f$=null,[fX.TryGetValue(ga, {get:() => f$, set:(gc) => { f$=gc;}}), f$]);if(gb[0])gb[1].AddAttribute((gc) =>(gd) => f1(gc, gd), f_);});const f4=() => { X("[ws-dom]", (f_) => { let f$;let ga;let gb;const gc=(f$=null,[fX.TryGetValue(f_.getAttribute("ws-dom").toLowerCase(), {get:() => f$, set:(gg) => { f$=gg;}}), f$]);if(gc[0]){ const gd=gc[1];if(gd instanceof bF){ const ge=gd.Value;f_.removeAttribute("ws-dom");ga=f_;const gf=new MutationObserver((gg, gh) => { bo((gi) => { gi.removedNodes.forEach(fL((gj) => gj[0]===ga&&gi.addedNodes.length!==1?(ge.SetFinal(null),gh.disconnect()):null), null);}, gg);});if(f_.parentElement!==null)gf.observe(f_.parentElement, (gb={},gb.childList=true,gb));ge.Set(G(f_));cJ((gg) => { if(gg!=null&&gg.$==1){ const gh=gg.$0;if(ga===gh){ } else { ga.replaceWith(gh);ga=gh;} } else { ga.remove();gf.disconnect();} }, ge.View);} } });};V(fQ, "[ws-attr-holes]", (f_) => { const f$=new RegExp(Y(), "g");const ga=d0(f_.getAttribute("ws-attr-holes"), [" "], 1);f_.removeAttribute("ws-attr-holes");for(let gb=0, gc=ga.length-1;gb<=gc;gb++)((() => { let gd;const ge=k(ga, gb);const gf=f_.getAttribute(ge);let gg=null;let gh=0;const gi=[];while(gg=f$.exec(gf),gg!==null){ const gj=cY(gf, G(gh), G(f$.lastIndex-k(gg, 0).length-1));gh=f$.lastIndex;gi.push([gj, k(gg, 1)]);} const gk=cY(gf, G(gh), null);f$.lastIndex=0;const gl=bp((gq, gr) =>(((gs) => { const gt=gs[0];const gu=gs[1];return(gv) => { let gw;const gx=gv[0];const gy=gv[1];const gz=(gw=null,[fX.TryGetValue(gu, {get:() => gw, set:(gB) => { gw=gB;}}), gw]);const gA=gz[0]?gz[1].AsChoiceView:dW("");return gA.$==1?[gt, dY.Cons(gx==""?gA.$0:cK((gB) => gB+gx, gA.$0), gy)]:[gt+gA.$0+gx, gy];};})(gq))(gr), gi, [gk, dY.Empty]);if(gl[1].$==1){ if(gl[1].$1.$==1){ if(gl[1].$1.$1.$==1){ if(gl[1].$1.$1.$1.$==0){ const gm=gl[0];gd=dK(ge, cL((gq, gr, gs) => gm+gq+gr+gs, gl[1].$0, gl[1].$1.$0, gl[1].$1.$1.$0));} else { const gn=gl[0];gd=dK(ge, cK((gq) => gn+dZ("", gq), cM(gl[1])));} } else { const go=gl[0];gd=dK(ge, cN((gq, gr) => go+gq+gr, gl[1].$0, gl[1].$1.$0));} } else if(gl[0]=="")gd=dK(ge, gl[1].$0);else { const gp=gl[0];gd=dK(ge, cK((gq) => gp+gq, gl[1].$0));} } else gd=dU.Create(ge, gl[0]);return f1(f_, gd);})());});let f5=f0;const f6=fW.length==0?G(() => { f4();}):G((f_) => { f4();bo((f$) => { f$(f_);}, fW);});const f7=!p(f0, null)&&f0.length===1&&(k(f0, 0)instanceof Node&&(k(f0, 0)instanceof Element&&(fS=k(f0, 0),true)))?G(fS):null;let f8={Els:f5, Dirty:true, Holes:fT, Attrs:fV, Render:f6?f6.$0:void 0, El:f7?f7.$0:void 0};let f9=fM(f8, ["Render", "El"]);return[f9, d7(cI(), cO, fU)];}
function U(){ return cf.GlobalHoles;}
function V(fQ, fR, fS){ c6(fQ, fR, (fT) => { if(fT.closest("[ws-preserve]")==null)fS(fT);});}
function W(fQ, fR, fS){ const fT=P(fS);return(fU) => { S(fQ, fR, fT, fU);};}
function X(fQ, fR){ c7(fQ, (fS) => { if(fS.closest("[ws-preserve]")==null)fR(fS);});}
function Y(){ return cf.TextHoleRE;}
let Z=fH((fQ) => class fR extends i { static { Z=fQ(this);} docNode;updates;static RunById(fS, fT){ const fU=globalThis.document.getElementById(fS);if(p(fU, null))f("invalid id: "+fS);else Z.Run(fU, fT);} static Run(fS, fT){ cg(fS, fT.docNode);Z.RunInPlace(false, fS, fT);} static get Empty(){ return Z.Mk(null, cI());} static RunInPlace(fS, fT, fU){ const fV=ci(fT, fU.docNode);cJ(dc()||dj()?dk(cj(fS, fV, fU.docNode)):() => { ck(fS, fV, fU.docNode);}, fU.updates);} static Mk(fS, fT){ return new fR(fS, fT);} static TextNode(fS){ return Z.Mk(bJ(globalThis.document.createTextNode(fS)), cI());} static TextView(fS){ const fT=ct();return Z.Mk(bK(fT), cK((fU) => { cu(fT, fU);}, fS));} constructor(fS, fT){ super();this.docNode=fS;this.updates=fT;} });
let u0030=fH((fQ) => class fR extends i { static { u0030=fQ(this);} equals;hash;count;data;set_Item(fS, fT){ this.set(fS, fT);} set(fS, fT){ const fU=this.hash(fS);const fV=this.data[fU];if(fV==null){ this.count=this.count+1;this.data[fU]=new Array({K:fS, V:fT});} else { const fW=bk((fX) => this.equals.apply(null, [(g(fX))[0], fS]), fV);if(fW==null){ this.count=this.count+1;fV.push({K:fS, V:fT});} else fV[fW.$0]={K:fS, V:fT};} } TryGetValue(fS, fT){ const fU=this.data[this.hash(fS)];if(fU==null)return false;else { const fV=bl((fW) => { const fX=g(fW);return this.equals.apply(null, [fX[0], fS])?G(fX[1]):null;}, fU);return fV!=null&&fV.$==1&&(fT.set(fV.$0),true);} } ContainsKey(fS){ const fT=this.data[this.hash(fS)];return fT==null?false:bm((fU) => this.equals.apply(null, [(g(fU))[0], fS]), fT);} RemoveKey(fS){ return this.remove(fS);} get Keys(){ return new db(this);} GetEnumerator(){ return bR(bn(D(this.data)));} get Values(){ return new d$(this);} remove(fS){ const fT=this.hash(fS);const fU=this.data[fT];if(fU==null)return false;else { const fV=br((fW) =>!this.equals.apply(null, [(g(fW))[0], fS]), fU);return n(fV)<fU.length&&(this.count=this.count-1,this.data[fT]=fV,true);} } Item(fS){ return this.get(fS);} get(fS){ const fT=this.data[this.hash(fS)];return fT==null?bN():bt((fU) => { const fV=g(fU);return this.equals.apply(null, [fV[0], fS])?G(fV[1]):null;}, fT);} static New_5(){ return new this("New_5");} static New_6(fS, fT, fU){ return new this("New_6", fS, fT, fU);} constructor(fS, fT, fU, fV){ if(fS=="New_5"){ fS="New_6";fT=[];fU=p;fV=s;} if(fS=="New_6"){ const fW=fT;const fX=fU;const fY=fV;super();this.equals=fX;this.hash=fY;this.count=0;this.data=[];const fZ=bO(fW);try { while(fZ.MoveNext()){ const f0=fZ.Current;this.set(f0.K, f0.V);} } finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} } } });
let u0031=fH((fQ) => class fR extends i { static { u0031=fQ(this);} ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(fS, fT){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return dW("");} });
let u0032=fH((fQ) => { fN(u0031);return class fR extends u0031 { static { u0032=fQ(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} };});
let u0033=fH((fQ) => class fR { static { u0033=fQ(this);} static offsetY;static offsetX;static { this.offsetX=bA.Create_1(0);this.offsetY=bA.Create_1(0);} });
let u0034=fH((fQ) => class fR extends i { static { u0034=fQ(this);} equals;hash;data;count;SAdd(fS){ return this.add(fS);} Contains(fS){ const fT=this.data[this.hash(fS)];return fT==null?false:this.arrContains(fS, fT);} add(fS){ const fT=this.hash(fS);const fU=this.data[fT];return fU==null?(this.data[fT]=[fS],this.count=this.count+1,true):this.arrContains(fS, fU)?false:(fU.push(fS),this.count=this.count+1,true);} arrContains(fS, fT){ let fU=true;let fV=0;const fW=fT.length;while(fU&&fV<fW)if(this.equals.apply(null, [fT[fV], fS]))fU=false;else fV=fV+1;return!fU;} GetEnumerator(){ return bO(eC(this.data));} ExceptWith(fS){ const fT=bO(fS);try { while(fT.MoveNext())this.Remove(fT.Current);} finally { if(typeof fT=="object"&&a(fT))fT.Dispose();} } get Count(){ return this.count;} IntersectWith(fS){ const fT=new u0034("New_4", fS, this.equals, this.hash);const fU=eC(this.data);for(let fW=0, fX=fU.length-1;fW<=fX;fW++){ const fV=fU[fW];if(!fT.Contains(fV))this.Remove(fV);} } Remove(fS){ const fT=this.data[this.hash(fS)];return fT==null?false:this.arrRemove(fS, fT)&&(this.count=this.count-1,true);} CopyTo(fS, fT){ const fU=eC(this.data);for(let fV=0, fW=fU.length-1;fV<=fW;fV++)l(fS, fV+fT, fU[fV]);} arrRemove(fS, fT){ let fU=true;let fV=0;const fW=fT.length;while(fU&&fV<fW)if(this.equals.apply(null, [fT[fV], fS])){ fT.splice(fV, 1);fU=false;} else fV=fV+1;return!fU;} static New_3(){ return new this("New_3");} static New_4(fS, fT, fU){ return new this("New_4", fS, fT, fU);} static New_2(fS){ return new this("New_2", fS);} constructor(fS, fT, fU, fV){ if(fS=="New_3"){ fS="New_4";fT=[];fU=p;fV=s;} let fW;if(fS=="New_2"){ fW=fT;fS="New_4";fT=fW;fU=p;fV=s;} if(fS=="New_4"){ const fX=fT;const fY=fU;const fZ=fV;super();this.equals=fY;this.hash=fZ;this.data=[];this.count=0;const f0=bO(fX);try { while(f0.MoveNext())this.add(f0.Current);} finally { if(typeof f0=="object"&&a(f0))f0.Dispose();} } } });
function u0035(fQ, fR){ return{GetEnumerator:() => { const fS=bO(fQ);const fT=[true];return new bS(fS, null, (fU) => { if(fU.s.MoveNext()){ fU.c=fU.s.Current;return true;} else { const fV=fU.s;if(!p(fV, null))fV.Dispose();fU.s=null;return fT[0]&&(fT[0]=false,fU.s=bO(fR),fU.s.MoveNext()?(fU.c=fU.s.Current,true):(fU.s.Dispose(),fU.s=null,false));} }, (fU) => { const fV=fU.s;if(!p(fV, null))fV.Dispose();});}};}
function u0036(fQ){ const fR=bO(fQ);try { return fR.MoveNext()?fR.Current:c_();} finally { if(typeof fR=="object"&&a(fR))fR.Dispose();} }
function u0037(fQ, fR, fS){ let fT=fR;const fU=bO(fS);try { while(fU.MoveNext())fT=fQ(fT, fU.Current);return fT;} finally { if(typeof fU=="object"&&a(fU))fU.Dispose();} }
function u0038(fQ, fR){ const fS=bO(fR);try { while(fS.MoveNext())fQ(fS.Current);} finally { if(typeof fS=="object"&&a(fS))fS.Dispose();} }
function u0039(fQ, fR){ return{GetEnumerator:() => { const fS=bO(fR);return new bS(null, null, (fT) => fS.MoveNext()&&(fT.c=fQ(fS.Current),true), () => { fS.Dispose();});}};}
function $(fQ){ return{GetEnumerator:() => bO(fQ())};}
function ba(fQ, fR){ return bc(u0039(fQ, fR));}
function bb(fQ){ const fR=bO(fQ);try { if(!fR.MoveNext())be();let fS=fR.Current;while(fR.MoveNext()){ const fT=fR.Current;if(x(fT, fS)===1)fS=fT;} return fS;} finally { if(typeof fR=="object"&&a(fR))fR.Dispose();} }
function bc(fQ){ return{GetEnumerator:() => { const fR=bO(fQ);function fS(fT){ while(true){ const fU=fT.s;if(p(fU, null)){ if(fR.MoveNext()){ fT.s=bO(fR.Current);fT=fT;} else { fR.Dispose();return false;} } else if(fU.MoveNext()){ fT.c=fU.Current;return true;} else { fT.Dispose();fT.s=null;fT=fT;} } } return new bS(null, null, fS, (fT) => { const fU=fT.s;if(!p(fU, null))fU.Dispose();if(!p(fR, null))fR.Dispose();});}};}
function bd(fQ, fR){ return bf(fQ, bg(fR));}
function be(){ return f("The input sequence was empty.");}
function bf(fQ, fR){ fQ<0?da():void 0;return{GetEnumerator:() => { const fS=[bO(fR)];return new bS(0, null, (fT) => { fT.s=fT.s+1;if(fT.s>fQ)return false;else { const fU=fS[0];return p(fU, null)?c_():fU.MoveNext()?(fT.c=fU.Current,fT.s===fQ?(fU.Dispose(),fS[0]=null):void 0,true):(fU.Dispose(),fS[0]=null,c_());} }, () => { const fT=fS[0];if(!p(fT, null))fT.Dispose();});}};}
function bg(fQ){ return{GetEnumerator:() => new bS(0, null, (fR) => { fR.c=fQ(fR.s);fR.s=fR.s+1;return true;}, void 0)};}
function bh(fQ, fR){ return!bi((fS) =>!fQ(fS), fR);}
function bi(fQ, fR){ const fS=bO(fR);try { let fT=false;while(!fT&&fS.MoveNext())fT=fQ(fS.Current);return fT;} finally { if(typeof fS=="object"&&a(fS))fS.Dispose();} }
function bj(fQ, fR){ const fS=[];for(let fU=0, fV=fR.length-1;fU<=fV;fU++){ const fT=fQ(fR[fU]);if(fT==null){ } else fS.push(fT.$0);} return fS;}
function bk(fQ, fR){ let fS=null;let fT=0;while(fT<fR.length&&fS==null){ fQ(fR[fT])?fS=G(fT):void 0;fT=fT+1;} return fS;}
function bl(fQ, fR){ let fS=null;let fT=0;while(fT<fR.length&&fS==null){ const fU=fQ(fR[fT]);if(fU!=null&&fU.$==1)fS=fU;fT=fT+1;} return fS;}
function bm(fQ, fR){ let fS=false;let fT=0;while(!fS&&fT<n(fR))if(fQ(fR[fT]))fS=true;else fT=fT+1;return fS;}
function bn(fQ){ return Array.prototype.concat.apply([], bs(fQ));}
function bo(fQ, fR){ for(let fS=0, fT=fR.length-1;fS<=fT;fS++)fQ(fR[fS]);}
function bp(fQ, fR, fS){ let fT=fS;const fU=fR.length;for(let fV=1, fW=fU;fV<=fW;fV++)fT=fQ(fR[fU-fV], fT);return fT;}
function bq(fQ, fR){ const fS=new Array(fR.length);for(let fT=0, fU=fR.length-1;fT<=fU;fT++)fS[fT]=fQ(fR[fT]);return fS;}
function br(fQ, fR){ const fS=[];for(let fT=0, fU=fR.length-1;fT<=fU;fT++)if(fQ(fR[fT]))fS.push(fR[fT]);return fS;}
function bs(fQ){ if(fQ instanceof Array)return fQ.slice();else if(fQ instanceof dY)return bu(fQ);else { const fR=[];const fS=bO(fQ);try { while(fS.MoveNext())fR.push(fS.Current);return fR;} finally { if(typeof fS=="object"&&a(fS))fS.Dispose();} } }
function bt(fQ, fR){ const fS=bl(fQ, fR);return fS==null?f("KeyNotFoundException"):fS.$0;}
function bu(fQ){ const fR=[];let fS=fQ;while(!(fS.$==0)){ fR.push(eZ(fS));fS=e0(fS);} return fR;}
function bv(fQ, fR){ let fS=true;let fT=0;while(fS&&fT<n(fR))if(fQ(fR[fT]))fT=fT+1;else fS=false;return fS;}
function bw(fQ, fR){ const fS=new Array(fQ);for(let fT=0, fU=fQ-1;fT<=fU;fT++)fS[fT]=fR;return fS;}
function bx(fQ, fR){ if(fQ<0)f("Negative size given.");else null;const fS=new Array(fQ);for(let fT=0, fU=fQ-1;fT<=fU;fT++)fS[fT]=fR(fT);return fS;}
let by=fH((fQ) => class fR extends i { static { by=fQ(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(fS, fT, fU){ let fV;const fW=by.GetHolesFor(fS);const fX=(fV=null,[fW.TryGetValue(fT, {get:() => fV, set:(fZ) => { fV=fZ;}}), fV]);if(fX[0])return fX[1];else { const fY=fU();fW.set_Item(fT, fY);return fY;} } static GetHolesFor(fS){ let fT;const fU=(fT=null,[by.initialized.TryGetValue(fS, {get:() => fT, set:(fW) => { fT=fW;}}), fT]);if(fU[0])return fU[1];else { const fV=new u0030("New_5");by.initialized.set_Item(fS, fV);return fV;} } static { by.initialized=new u0030("New_5");by.instances=new u0030("New_5");} });
let bz=fH((fQ) => { fN(u0031);return class fR extends u0031 { static { bz=fQ(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return G(this.fillWith.View);} AddAttribute(fS, fT){(fS(fT))(dL(this.fillWith));} get AsChoiceView(){ return dX(cK(String, this.fillWith.View));} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} };});
let bA=fH((fQ) => class fR extends i { static { bA=fQ(this);} static Create_1(fS){ return new bT(false, {s:cE(fS, [])}, fS);} static { } });
let bB=fH((fQ) => { fN(u0031);return class fR extends u0031 { static { bB=fQ(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return G(cK(String, this.fillWith.View));} AddAttribute(fS, fT){(fS(fT))(dM(this.fillWith));} get AsChoiceView(){ return dX(cK(String, this.fillWith.View));} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} };});
let bC=fH((fQ) => { fN(u0031);return class fR extends u0031 { static { bC=fQ(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return G(cK(String, this.fillWith.View));} AddAttribute(fS, fT){(fS(fT))(dN(this.fillWith));} get AsChoiceView(){ return dX(cK(String, this.fillWith.View));} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} };});
let bD=fH((fQ) => { fN(u0031);return class fR extends u0031 { static { bD=fQ(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return G(cK((fS) =>(new Date(fS)).toLocaleString(), this.fillWith.View));} AddAttribute(fS, fT){(fS(fT))(dO(this.fillWith));} get AsChoiceView(){ return dX(cK((fS) =>(new Date(fS)).toLocaleString(), this.fillWith.View));} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} };});
let bE=fH((fQ) => { fN(u0031);return class fR extends u0031 { static { bE=fQ(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return G(cK(String, this.fillWith.View));} AddAttribute(fS, fT){(fS(fT))(dP(this.fillWith));} get AsChoiceView(){ return dX(cK(String, this.fillWith.View));} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} };});
let bF=fH((fQ) => { fN(u0031);return class fR extends u0031 { static { bF=fQ(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} };});
let bG=fH((fQ) => { fN(u0031);return class fR extends u0031 { static { bG=fQ(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return G(cK((fS) => dZ(",", fS), this.fillWith.View));} AddAttribute(fS, fT){(fS(fT))(dQ(this.fillWith));} get AsChoiceView(){ return dX(cK(String, this.fillWith.View));} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} };});
let bH=fH((fQ) => class fR extends i { static { bH=fQ(this);} });
function bI(fQ){ return{$:6, $0:fQ};}
function bJ(fQ){ return{$:5, $0:fQ};}
function bK(fQ){ return{$:4, $0:fQ};}
let bL=fH((fQ) => class fR { static { bL=fQ(this);} });
function bM(fQ, fR){ return fy(fQ, -2147483648, 2147483647, fR);}
function bN(){ throw new eL("New");}
function bO(fQ){ return fQ instanceof Array?bP(fQ):p(typeof fQ, "string")?bQ(fQ):fQ.GetEnumerator();}
function bP(fQ){ return new bS(0, null, (fR) => { const fS=fR.s;return fS<n(fQ)&&(fR.c=k(fQ, fS),fR.s=fS+1,true);}, void 0);}
function bQ(fQ){ return new bS(0, null, (fR) => { const fS=fR.s;return fS<fQ.length&&(fR.c=fQ[fS],fR.s=fS+1,true);}, void 0);}
function bR(fQ){ return fQ instanceof Array?bP(fQ):p(typeof fQ, "string")?bQ(fQ):"GetEnumerator0"in fQ?fQ.GetEnumerator0():fQ.GetEnumerator();}
let bS=fH((fQ) => class fR extends i { static { bS=fQ(this);} s;c;n;d;e;MoveNext(){ const fS=this.n(this);this.e=fS?1:2;return fS;} get Current(){ return this.e===1?this.c:this.e===0?f("Enumeration has not started. Call MoveNext."):f("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(fS, fT, fU, fV){ super();this.s=fS;this.c=fT;this.n=fU;this.d=fV;this.e=0;} });
let bT=fH((fQ) => { fN(E);return class fR extends E { static { bT=fQ(this);} isConst;current;snap;view;id;Set(fS){ if(this.isConst)(((fT) => fT("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fT) => { console.log(fT);}));else { dm(this.snap);this.current=fS;this.snap={s:cE(fS, [])};} } Get(){ return this.current;} SetFinal(fS){ if(this.isConst)(((fT) => fT("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fT) => { console.log(fT);}));else { dm(this.snap);this.isConst=true;this.current=fS;this.snap={s:cF(fS)};} } get View(){ return this.view;} UpdateMaybe(fS){ const fT=fS(this.Get());if(fT!=null&&fT.$==1)this.Set(fT.$0);} constructor(fS, fT, fU){ super();this.isConst=fS;this.current=fU;this.snap=fT;this.view=() => this.snap;this.id=cB();} };});
function bU(fQ, fR, fS){ const fT=fQ.s;if(fT==null)fS();else fT!=null&&fT.$==2?(fT.$1.push(fS),fR(fT.$0)):fT!=null&&fT.$==3?(fT.$0.push(fR),fT.$1.push(fS)):fR(fT.$0);}
function bV(fQ, fR){ const fS=fR.s;if(fS!=null&&fS.$==0)return{s:cF(fQ(fS.$0))};else { const fT={s:cG([], [])};b2(fR, (fU) => { b3(fT, fR, fQ(fU));}, fT);return fT;} }
function bW(fQ, fR, fS, fT){ const fU=fR.s;const fV=fS.s;const fW=fT.s;if(fU!=null&&fU.$==0)return fV!=null&&fV.$==0?fW!=null&&fW.$==0?{s:cF(fQ(fU.$0, fV.$0, fW.$0))}:b4(fQ, fU.$0, fV.$0, fT):fW!=null&&fW.$==0?b5(fQ, fU.$0, fW.$0, fS):b6(fQ, fU.$0, fS, fT);else if(fV!=null&&fV.$==0)return fW!=null&&fW.$==0?b7(fQ, fV.$0, fW.$0, fR):b8(fQ, fV.$0, fR, fT);else if(fW!=null&&fW.$==0)return b9(fQ, fW.$0, fR, fS);else { const fX={s:cG([], [])};const fY=() => { const fZ=fX.s;if(!(fZ!=null&&fZ.$==0||fZ!=null&&fZ.$==2)){ const f0=b_(fR);const f1=b_(fS);const f2=b_(fT);if(f0!=null&&f0.$==1)if(f1!=null&&f1.$==1)if(f2!=null&&f2.$==1)if(f0.$0[1]&&f1.$0[1]&&f2.$0[1])b$(fX, fQ(f0.$0[0], f1.$0[0], f2.$0[0]));else ca(fX, fQ(f0.$0[0], f1.$0[0], f2.$0[0]));} };b2(fR, fY, fX);b2(fS, fY, fX);b2(fT, fY, fX);return fX;} }
function bX(fQ){ const fR=bs(fQ);if(fR.length==0)return{s:cF([])};else { const fS={s:cG([], [])};const fT=[n(fR)-1];const fU=() => { if(fT[0]===0){ const fV=bq((fW) => { const fX=fW.s;return fX!=null&&fX.$==0?fX.$0:fX!=null&&fX.$==2?fX.$0:f("value not found by View.Sequence");}, fR);if(bv((fW) => { const fX=fW.s;return fX!=null&&fX.$==0;}, fR))b$(fS, fV);else ca(fS, fV);} else fT[0]=fT[0]-1;};bo((fV) => { b2(fV, fU, fS);}, fR);return fS;} }
function bY(fQ, fR, fS){ const fT=fR.s;const fU=fS.s;if(fT!=null&&fT.$==0)return fU!=null&&fU.$==0?{s:cF(fQ(fT.$0, fU.$0))}:cb(fQ, fT.$0, fS);else if(fU!=null&&fU.$==0)return cc(fQ, fU.$0, fR);else { const fV={s:cG([], [])};const fW=() => { const fX=fV.s;if(!(fX!=null&&fX.$==0||fX!=null&&fX.$==2)){ const fY=b_(fR);const fZ=b_(fS);if(fY!=null&&fY.$==1)if(fZ!=null&&fZ.$==1)if(fY.$0[1]&&fZ.$0[1])b$(fV, fQ(fY.$0[0], fZ.$0[0]));else ca(fV, fQ(fY.$0[0], fZ.$0[0]));} };b2(fR, fW, fV);b2(fS, fW, fV);return fV;} }
function bZ(fQ, fR){ const fS=fQ.s;const fT=fR.s;if(fS!=null&&fS.$==0)return fT!=null&&fT.$==0?{s:cF(null)}:fR;else if(fT!=null&&fT.$==0)return fQ;else { const fU={s:cG([], [])};const fV=() => { const fW=fU.s;if(!(fW!=null&&fW.$==0||fW!=null&&fW.$==2)){ const fX=b_(fQ);const fY=b_(fR);if(fX!=null&&fX.$==1)if(fY!=null&&fY.$==1)if(fX.$0[1]&&fY.$0[1])b$(fU, null);else ca(fU, null);} };b2(fQ, fV, fU);b2(fR, fV, fU);return fU;} }
function b0(fQ){ const fR=fQ.s;if(fR==null)return fQ;else if(fR!=null&&fR.$==2){ const fS={s:cE(fR.$0, [])};cd(fQ, fS);return fS;} else if(fR!=null&&fR.$==3){ const fT={s:cG([], [])};b2(fQ, (fU) => { b3(fT, fQ, fU);}, fT);return fT;} else return fQ;}
function b1(fQ, fR){ const fS=fQ.s;if(fS==null)fR();else fS!=null&&fS.$==2?fS.$1.push(fR):fS!=null&&fS.$==3?fS.$1.push(fR):void 0;}
function b2(fQ, fR, fS){ const fT=fQ.s;if(fT==null)dm(fS);else fT!=null&&fT.$==2?(ce(fT.$1, fS),fR(fT.$0)):fT!=null&&fT.$==3?(fT.$0.push(fR),ce(fT.$1, fS)):fR(fT.$0);}
function b3(fQ, fR, fS){ const fT=fR.s;if(fT!=null&&fT.$==0)b$(fQ, fS);else ca(fQ, fS);}
function b4(fQ, fR, fS, fT){ return bV((fU) => fQ(fR, fS, fU), fT);}
function b5(fQ, fR, fS, fT){ return bV((fU) => fQ(fR, fU, fS), fT);}
function b6(fQ, fR, fS, fT){ return bY((fU, fV) => fQ(fR, fU, fV), fS, fT);}
function b7(fQ, fR, fS, fT){ return bV((fU) => fQ(fU, fR, fS), fT);}
function b8(fQ, fR, fS, fT){ return bY((fU, fV) => fQ(fU, fR, fV), fS, fT);}
function b9(fQ, fR, fS, fT){ return bY((fU, fV) => fQ(fU, fV, fR), fS, fT);}
function b_(fQ){ const fR=fQ.s;return fR!=null&&fR.$==0?G([fR.$0, true]):fR!=null&&fR.$==2?G([fR.$0, false]):null;}
function b$(fQ, fR){ const fS=fQ.s;if(fS!=null&&fS.$==3){ fQ.s=cF(fR);const fT=fS.$0;for(let fU=0, fV=n(fT)-1;fU<=fV;fU++)(k(fT, fU))(fR);} else void 0;}
function ca(fQ, fR){ const fS=fQ.s;if(fS!=null&&fS.$==3){ fQ.s=cE(fR, fS.$1);const fT=fS.$0;for(let fU=0, fV=n(fT)-1;fU<=fV;fU++)(k(fT, fU))(fR);} else void 0;}
function cb(fQ, fR, fS){ return bV((fT) => fQ(fR, fT), fS);}
function cc(fQ, fR, fS){ return bV((fT) => fQ(fT, fR), fS);}
function cd(fQ, fR){ const fS=fQ.s;if(fS==null)dm(fR);else fS!=null&&fS.$==2?ce(fS.$1, fR):fS!=null&&fS.$==3?ce(fS.$1, fR):void 0;}
function ce(fQ, fR){ fQ.push(fR);if(fQ.length%20===0){ const fS=fQ.slice(0);fE(fQ);for(let fU=0, fV=n(fS)-1;fU<=fV;fU++){ const fT=k(fS, fU);if(typeof fT=="object")(((fW) => { if(fW.s)fQ.push(fW);})(fT));else(((fW) => { fQ.push(fW);})(fT));} } else void 0;}
let cf=fH((fQ) => class fR { static { cf=fQ(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new u0030("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new u0030("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function cg(fQ, fR){ ch(fQ, fR, null);}
function ch(fQ, fR, fS){ while(true){ if(fR!=null&&fR.$==1)return cm(fQ, fR.$0.El, fS);else if(fR!=null&&fR.$==2){ const fT=fR.$0;fT.Dirty=false;fR=fT.Current;} else if(fR==null)return fS;else if(fR!=null&&fR.$==4)return cm(fQ, fR.$0.Text, fS);else if(fR!=null&&fR.$==5)return cm(fQ, fR.$0, fS);else if(fR!=null&&fR.$==6)return bp((fW, fX) =>((((fY) =>(fZ) =>(f0) => fZ==null||fZ.constructor===Object?ch(fY, fZ, f0):cm(fY, fZ, f0))(fQ))(fW))(fX), fR.$0.Els, fS);else { const fU=fR.$1;const fV=fR.$0;fR=fV;fS=ch(fQ, fU, fS);} } }
function ci(fQ, fR){ return ea(eb(), cn(fQ, dt(), fR));}
function cj(fQ, fR, fS){ if(dc()){ const fT=null;return ei(() => { const fU=ec(fS);const fV=cr(fR, fU);const fW=cq(fR, fU);return ej(dd(de(fV, cp(fR, fU))), () => ej(co(fQ, fR), () => ej(dd(fW), () => { fR.PreviousNodes=fU;return em(null);})));});} else return co(fQ, fR);}
function ck(fQ, fR, fS){ const fT=ec(fS);cs(fQ, fR.Top);fR.PreviousNodes=fT;}
function cl(fQ, fR){ const fS=fQ.parentNode;const fT=globalThis.document.createTextNode("");fS.insertBefore(fT, fQ);cv(fQ, fR);return fT;}
function cm(fQ, fR, fS){ c8(fQ, fS, fR);return fR;}
function cn(fQ, fR, fS){ cg(fQ, fS);const fT=dn(fQ, fR);return cA.New(fT, fS, null, fQ, cB(), fK(fT.OnAfterRender));}
function co(fQ, fR){ if(dj()){ const fS=(fT) => { requestAnimationFrame(() => { cs(fQ, fR.Top);fT();});};return er((fT, fU, fV) => fS.apply(null, [fT, fU, fV]));} else { cs(fQ, fR.Top);return em(null);} }
function cp(fQ, fR){ return dh(bq((fS) => dv(fS.Attr), eg(ef(fR, ee((fS) => du(fS.Attr), fQ.PreviousNodes)))));}
function cq(fQ, fR){ return dh(bq((fS) => dx(fS.Attr), eg(ef(fQ.PreviousNodes, ee((fS) => dw(fS.Attr), fR)))));}
function cr(fQ, fR){ const fS=(fU) => dy(fU.Attr);const fT=(fU) => ee(fS, fU);return dh(bq((fU) => dz(fU.Attr), eg(eh(fT(fQ.PreviousNodes), fT(fR)))));}
function cs(fQ, fR){!fQ?cw(fR):void 0;cx(fR.Children);cy(fR);}
function ct(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cu(fQ, fR){ fQ.Value=fR;fQ.Dirty=true;}
function cv(fQ, fR){ ch(fQ.parentNode, fR, fQ);}
function cw(fQ){ function fR(fS){ function fT(fU){ while(true){ if(fU!=null&&fU.$==0){ const fV=fU.$1;const fW=fU.$0;if(fT(fW))return true;else fU=fV;} else if(fU!=null&&fU.$==2){ const fX=fU.$0;if(fX.Dirty)return true;else fU=fX.Current;} else if(fU!=null&&fU.$==6){ const fY=fU.$0;return fY.Dirty||bm(fR, fY.Holes);} else return false;} } return fT(fS.Children);} dC(fQ.El, fQ.Attr);if(fR(fQ))cz(fQ);}
function cx(fQ){ while(true){ if(fQ!=null&&fQ.$==1)return cs(false, fQ.$0);else if(fQ!=null&&fQ.$==2){ const fR=fQ.$0;fQ=fR.Current;} else if(fQ==null)return null;else if(fQ!=null&&fQ.$==5)return null;else if(fQ!=null&&fQ.$==4){ const fS=fQ.$0;return fS.Dirty?(fS.Text.nodeValue=fS.Value,fS.Dirty=false):null;} else if(fQ!=null&&fQ.$==6){ const fT=fQ.$0;bo((fW) => { cs(false, fW);}, fT.Holes);bo((fW) => { dC(fW[0], fW[1]);}, fT.Attrs);return cy(fT);} else { const fU=fQ.$1;const fV=fQ.$0;cx(fV);fQ=fU;} } }
function cy(fQ){ const fR=fK(fQ.Render);if(fR!=null&&fR.$==1){ fR.$0(fQ.El);fJ(fQ, "Render", null);} }
function cz(fQ){ const fR=fQ.El;function fS(fW, fX){ while(true){ if(fW!=null&&fW.$==1)return fW.$0.El;else if(fW!=null&&fW.$==2){ const fY=fW.$0;if(fY.Dirty){ fY.Dirty=false;return ch(fR, fY.Current, fX);} else fW=fY.Current;} else if(fW==null)return fX;else if(fW!=null&&fW.$==4)return fW.$0.Text;else if(fW!=null&&fW.$==5)return fW.$0;else if(fW!=null&&fW.$==6){ const fZ=fW.$0;if(fZ.Dirty)fZ.Dirty=false;return bp((f2, f3) => f2==null||f2.constructor===Object?fS(f2, f3):f2, fZ.Els, fX);} else { const f0=fW.$1;const f1=fW.$0;fW=f1;fX=fS(f0, fX);} } } const fT=fQ.El;ft((fW) => { c9(fT, fW);}, fs(fu(fQ), fr(fQ.El, fK(fQ.Delimiters))));let fU=fQ.Children;const fV=fK(fQ.Delimiters);fS(fU, fV!=null&&fV.$==1?fV.$0[1]:null);}
let cA=fH((fQ) => class fR { static { cA=fQ(this);} Attr;Children;Delimiters;El;ElKey;Render;Equals(fS){ return this.ElKey===fS.ElKey;} GetHashCode(){ return this.ElKey;} static New(fS, fT, fU, fV, fW, fX){ const fY={Attr:fS, Children:fT, El:fV, ElKey:fW};let fZ=(fJ(fY, "Delimiters", fU),fJ(fY, "Render", fX),fY);return fO(cA, fZ);} });
function cB(){ cC(cD()+1);return cD();}
function cC(fQ){ eD.counter=fQ;}
function cD(){ return eD.counter;}
function cE(fQ, fR){ return{$:2, $0:fQ, $1:fR};}
function cF(fQ){ return{$:0, $0:fQ};}
function cG(fQ, fR){ return{$:3, $0:fQ, $1:fR};}
let cH=fH((fQ) => { fN(Z);return class fR extends Z { static { cH=fQ(this);} docNode_1;updates_1;elt;rvUpdates;static TreeNode(fS, fT){ const fU=d_.Create(fT);const fV=bq((fY) => do_1(fY[1]), fS.Attrs);let fW=d7(cI(), cO, fV);let fX=cO(fW, fU.v);return new fR(bI(fS), fX, k(fS.Els, 0), fU);} constructor(fS, fT, fU, fV){ super(fS, fT);this.docNode_1=fS;this.updates_1=fT;this.elt=fU;this.rvUpdates=fV;} };});
function cI(fQ){ const fR={s:cF(fQ)};return() => fR;}
function cJ(fQ, fR){ function fS(){ bU(fR(), fQ, () => { en().Fork(fS);});} en().Fork(fS);}
function cK(fQ, fR){ return cP(() => bV(fQ, fR()));}
function cL(fQ, fR, fS, fT){ return cP(() => bW(fQ, fR(), fS(), fT()));}
function cM(fQ){ return cP(() => bX(u0039((fR) => fR(), fQ)));}
function cN(fQ, fR, fS){ return cP(() => bY(fQ, fR(), fS()));}
function cO(fQ, fR){ return cP(() => bZ(fQ(), fR()));}
function cP(fQ){ const fR={c:null, o:fQ};return() => { let fS=fR.c;if(fS===null){ fS=fR.o();fR.c=fS;const fT=fS.s;if(fT!=null&&fT.$==0)fR.o=null;else b1(fS, () => { fR.c=null;});return fS;} else return fS;};}
function cQ(fQ){ let fR=null;let fS=0;const fT=fQ.textContent;const fU=new RegExp(Y(), "g");while(fR=fU.exec(fT),fR!==null){ fQ.parentNode.insertBefore(globalThis.document.createTextNode(cY(fT, G(fS), G(fU.lastIndex-k(fR, 0).length-1))), fQ);fS=fU.lastIndex;const fV=globalThis.document.createElement("span");fV.setAttribute("ws-replace", k(fR, 1).toLowerCase());fQ.parentNode.insertBefore(fV, fQ);} fU.lastIndex=0;fQ.textContent=cY(fT, G(fS), null);}
function cR(fQ){ console.warn("Instantiating non-loaded template", fQ);}
function cS(fQ, fR, fS){ const fT=fQ.querySelector("[ws-replace]");return p(fT, null)?(console.warn("Filling non-existent text hole", fS),null):(fT.parentNode.replaceChild(globalThis.document.createTextNode(fR), fT),G(fT.getAttribute("ws-replace")));}
function cT(fQ, fR){ const fS=(fT) => { V(fQ, "["+fT+"]", (fU) => { if(!fR.Contains(fU.getAttribute(fT)))fU.removeAttribute(fT);});};fS("ws-attr");fS("ws-onafterrender");fS("ws-var");V(fQ, "[ws-hole]", (fT) => { if(!fR.Contains(fT.getAttribute("ws-hole"))){ fT.removeAttribute("ws-hole");while(fT.hasChildNodes())fT.removeChild(fT.lastChild);} });V(fQ, "[ws-replace]", (fT) => { if(!fR.Contains(fT.getAttribute("ws-replace")))fT.parentNode.removeChild(fT);});V(fQ, "[ws-on]", (fT) => { fT.setAttribute("ws-on", dZ(" ", br((fU) => fR.Contains(k(d0(fU, [":"], 1), 1)), d0(fT.getAttribute("ws-on"), [" "], 1))));});V(fQ, "[ws-attr-holes]", (fT) => { const fU=d0(fT.getAttribute("ws-attr-holes"), [" "], 1);for(let fY=0, fZ=fU.length-1;fY<=fZ;fY++){ const fV=k(fU, fY);let fW=new RegExp(Y(), "g");let fX=fT.getAttribute(fV).replace(fW, (f0, f1) => fR.Contains(f1)?f0:"");fT.setAttribute(fV, fX);} });}
function cU(fQ, fR){ cX(fR);const fS=fR.nodeName.toLowerCase();const fT=fQ.querySelector("[ws-attr="+fS+"]");if(p(fT, null))console.warn("Filling non-existent attr hole", fS);else { fT.removeAttribute("ws-attr");for(let fV=0, fW=fR.attributes.length-1;fV<=fW;fV++){ const fU=fR.attributes.item(fV);if(fU.name=="class"&&fT.hasAttribute("class"))fT.setAttribute("class", fT.getAttribute("class")+" "+fU.nodeValue);else fT.setAttribute(fU.name, fU.nodeValue);} } }
function cV(fQ, fR){ const fS=(fT) => { V(fQ, "["+fT+"]", (fU) => { let fV;const fW=(fV=null,[fR.TryGetValue(fU.getAttribute(fT).toLowerCase(), {get:() => fV, set:(fX) => { fV=fX;}}), fV]);if(fW[0])fU.setAttribute(fT, fW[1]);});};fS("ws-hole");fS("ws-replace");fS("ws-attr");fS("ws-onafterrender");fS("ws-var");V(fQ, "[ws-on]", (fT) => { fT.setAttribute("ws-on", dZ(" ", bq((fU) => { let fV;const fW=d0(fU, [":"], 1);const fX=(fV=null,[fR.TryGetValue(k(fW, 1), {get:() => fV, set:(fY) => { fV=fY;}}), fV]);return fX[0]?k(fW, 0)+":"+fX[1]:fU;}, d0(fT.getAttribute("ws-on"), [" "], 1))));});V(fQ, "[ws-attr-holes]", (fT) => { const fU=d0(fT.getAttribute("ws-attr-holes"), [" "], 1);for(let fV=0, fW=fU.length-1;fV<=fW;fV++)((() => { const fX=k(fU, fV);return fT.setAttribute(fX, u0037((fY, fZ) => { const f0=g(fZ);return fY.replace(new RegExp("\\${"+f0[0]+"}", "ig"), "${"+f0[1]+"}");}, fT.getAttribute(fX), fR));})());});}
function cW(fQ, fR, fS){ while(true){ if(fQ.hasChildNodes())fS=fR.insertBefore(fQ.lastChild, fS);else return null;} }
function cX(fQ){ const fR=fQ.attributes;const fS=[];const fT=[];const fU=[];for(let fZ=0, f0=fR.length-1;fZ<=f0;fZ++){ const fV=fR.item(fZ);if(d1(fV.nodeName, "ws-on")&&fV.nodeName!="ws-onafterrender"&&fV.nodeName!="ws-on"){ fS.push(fV.nodeName);fT.push(cY(fV.nodeName, G("ws-on".length), null)+":"+fV.nodeValue.toLowerCase());} else if(!d1(fV.nodeName, "ws-")&&(new RegExp(Y())).test(fV.nodeValue)){ let fW=new RegExp(Y(), "g");let fX=fV.nodeValue.replace(fW, (f1, f2) =>"${"+f2.toLowerCase()+"}");fV.nodeValue=fX;fU.push(fV.nodeName);} else void 0;} if(!(fT.length==0))fQ.setAttribute("ws-on", dZ(" ", fT));if(!(fU.length==0))fQ.setAttribute("ws-attr-holes", dZ(" ", fU));const fY=(f1) => { const f2=fQ.getAttribute(f1);if(f2==null){ } else fQ.setAttribute(f1, f2.toLowerCase());};fY("ws-hole");fY("ws-replace");fY("ws-attr");fY("ws-onafterrender");fY("ws-var");bo((f1) => { fQ.removeAttribute(f1);}, fS);}
function cY(fQ, fR, fS){ if(fR==null){ if(fS!=null&&fS.$==1){ const fT=fS.$0;return fT<0?"":fQ.slice(0, fT+1);} else return"";} else if(fS==null)return fQ.slice(fR.$0);else { const fU=fS.$0;return fU<0?"":fQ.slice(fR.$0, fU+1);} }
function cZ(fQ){ const fR=globalThis.document.createElement("div");if(!c1().test(fQ)){ fR.appendChild(globalThis.document.createTextNode(fQ));return fR;} else { const fS=c5().exec(fQ);const fT=p(fS, null)?"":k(fS, 1).toLowerCase();const fU=(c2())[fT];const fV=fU?fU:c3();fR.innerHTML=fV[1]+fQ.replace(c4(), "<$1></$2>")+fV[2];function fW(fX, fY){ while(true){ if(fY===0)return fX;else { const fZ=fY;fX=fX.lastChild;fY=fZ-1;} } } return fW(fR, fV[0]);} }
function c0(fQ){ const fR=[];for(let fS=0, fT=fQ.childNodes.length-1;fS<=fT;fS++)fR.push(fQ.childNodes[fS]);return fR;}
function c1(){ return eE.rhtml;}
function c2(){ return eE.wrapMap;}
function c3(){ return eE.defaultWrap;}
function c4(){ return eE.rxhtmlTag;}
function c5(){ return eE.rtagName;}
function c6(fQ, fR, fS){ const fT=fQ.querySelectorAll(fR);for(let fU=0, fV=fT.length-1;fU<=fV;fU++)fS(fT[fU]);}
function c7(fQ, fR){ const fS=globalThis.document.querySelectorAll(fQ);for(let fT=0, fU=fS.length-1;fT<=fU;fT++)fR(fS[fT]);}
function c8(fQ, fR, fS){ let fT;if(fS.parentNode===fQ){ const fU=fS.nextSibling;let fV=p(fU, null)?null:fU;fT=fR===fV;} else fT=false;if(!fT)fQ.insertBefore(fS, fR);}
function c9(fQ, fR){ if(fR.parentNode===fQ)fQ.removeChild(fR);}
function c_(){ return f("The input sequence has an insufficient number of elements.");}
function c$(fQ, fR){ let fS=true;let fT=0;while(fS&&fT<n(fR))if(p(fR[fT], fQ))fS=false;else fT=fT+1;return!fS;}
function da(){ return f("The input must be non-negative.");}
let db=fH((fQ) => class fR extends i { static { db=fQ(this);} d;GetEnumerator(){ return bO(u0039((fS) => fS.K, this.d));} constructor(fS){ super();this.d=fS;} });
function dc(){ return et();}
function dd(fQ){ const fR=null;return ei(() => ej(df(() => { }, eu(fQ)), () => { ev(fQ);return em(null);}));}
function de(fQ, fR){ return dg(eG(fQ.$0, fR.$0));}
function df(fQ, fR){ const fS=fR.Duration;if(fS===0)return ek();else { const fT=(fU) => { function fV(fW){ return(fX) => { const fY=fX-fW;fR.Compute(fY);fQ();return fY<=fS?void requestAnimationFrame((fZ) => {(fV(fW))(fZ);}):fU();};} requestAnimationFrame((fW) => {(fV(fW))(fW);});};return er((fU, fV, fW) => fT.apply(null, [fU, fV, fW]));} }
function dg(fQ){ return{$:0, $0:fQ};}
function dh(fQ){ return dg(eI(u0039(ex, fQ)));}
function di(){ return dg(eJ());}
function dj(){ return eB.BatchUpdatesEnabled;}
function dk(fQ){ const fR=[0];function fS(){ const fT=null;return ei(() => ej(fQ, () => { const fU=fR[0];return p(fU, 1)?(fR[0]=0,ek()):p(fU, 2)?(fR[0]=1,fS()):ek();}));} return() => { const fT=fR[0];if(p(fT, 0)){ fR[0]=1;el(fS(), null);} else p(fT, 1)?fR[0]=2:void 0;};}
function dl(fQ, fR, fS, fT){ const fU={DynElem:fQ, DynFlags:fR, DynNodes:fS};fJ(fU, "OnAfterRender", fT);return fU;}
function dm(fQ){ let fR;const fS=fQ.s;if(fS==null||(fS!=null&&fS.$==2?(fR=fS.$1,false):fS!=null&&fS.$==3?(fR=fS.$1,false):true))void 0;else { fQ.s=null;for(let fU=0, fV=n(fR)-1;fU<=fV;fU++){ const fT=k(fR, fU);if(typeof fT=="object")(((fW) => { dm(fW);})(fT));else fT();} } }
function dn(fQ, fR){ const fS=[];const fT=[];function fU(fX){ while(true){ if(!(fX===null)){ if(fX!=null&&fX.$==1)return fS.push(fX.$0);else if(fX!=null&&fX.$==2){ const fY=fX.$1;const fZ=fX.$0;fU(fZ);fX=fY;} else return fX!=null&&fX.$==3?fX.$0(fQ):fX!=null&&fX.$==4?fT.push(fX.$0):null;} else return null;} } fU(fR);const fV=fS.slice(0);let fW=dl(fQ, dq(fR), fV, fT.length===0?null:G((fX) => { u0038((fY) => { fY(fX);}, fT);}));return fW;}
function do_1(fQ){ return d8((fR) => fR.NChanged, cI(), cO, fQ.DynNodes);}
function dp(fQ){ return dl(fQ, 0, [], null);}
function dq(fQ){ return fQ!==null&&fQ.hasOwnProperty("flags")?fQ.flags:0;}
function dr(fQ){ return dU.A3(fQ);}
function ds(fQ, fR){ return dU.A1(new eK(fQ, fR));}
function dt(){ return eM.EmptyAttr;}
function du(fQ){ const fR=2;return(fQ.DynFlags&fR)===fR;}
function dv(fQ){ return dB(fQ, (fR, fS) => fR.NGetExitAnim(fS));}
function dw(fQ){ const fR=1;return(fQ.DynFlags&fR)===fR;}
function dx(fQ){ return dB(fQ, (fR, fS) => fR.NGetEnterAnim(fS));}
function dy(fQ){ const fR=4;return(fQ.DynFlags&fR)===fR;}
function dz(fQ){ return dB(fQ, (fR, fS) => fR.NGetChangeAnim(fS));}
function dA(fQ, fR){ if(fQ===null)return fR;else if(fR===null)return fQ;else { const fS=dU.A2(fQ, fR);dD(fS, dq(fQ)|dq(fR));return fS;} }
function dB(fQ, fR){ return dh(bq((fS) => fR(fS, fQ.DynElem), fQ.DynNodes));}
function dC(fQ, fR){ bo((fS) => { fS.NSync(fQ);}, fR.DynNodes);}
function dD(fQ, fR){ fQ.flags=fR;}
let dE=fH((fQ) => { fN(u0031);return class fR extends u0031 { static { dE=fQ(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let dF=fH((fQ) => { fN(u0031);return class fR extends u0031 { static { dF=fQ(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} get AsChoiceView(){ return dW(this.fillWith);} };});
let dG=fH((fQ) => { fN(u0031);return class fR extends u0031 { static { dG=fQ(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let dH=fH((fQ) => { fN(u0031);return class fR extends u0031 { static { dH=fQ(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function dI(fQ, fR){ return dr((fS) => { fS.addEventListener(fQ, (fT) =>(fR(fS))(fT), false);});}
function dJ(fQ){ return dU.A4(fQ);}
function dK(fQ, fR){ return ds(fR, (fS) =>(fT) => fS.setAttribute(fQ, fT));}
function dL(fQ){ return dR(fi(), fQ);}
function dM(fQ){ return dR(fj(), fQ);}
function dN(fQ){ return dR(fk(), fQ);}
function dO(fQ){ return dR(fl(), fQ);}
function dP(fQ){ return dR(fm(), fQ);}
function dQ(fQ){ return dR(fn(), fQ);}
function dR(fQ, fR){ const fS=fQ(fR);return dU.Append(dr(fS[0]), dS(fS[1], fS[2]));}
function dS(fQ, fR){ return ds(fR, fQ);}
let dT=fH((fQ) => { fN(u0031);return class fR extends u0031 { static { dT=fQ(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let dU=fH((fQ) => class fR { static { dU=fQ(this);} static Handler(fS, fT){ return dU.HandlerImpl(fS, fT);} static Concat(fS){ const fT=d9(fS);return d7(dt(), dU.Append, fT);} static Create(fS, fT){ return dr((fU) => { fU.setAttribute(fS, fT);});} static HandlerImpl(fS, fT){ return dr((fU) => { fU.addEventListener(fS, (fV) =>(fT(fU))(fV), false);});} static Append(fS, fT){ return dA(fS, fT);} static A4(fS){ return fO(fR, {$:4, $0:fS});} static A3(fS){ return fO(fR, {$:3, $0:fS});} static A1(fS){ return fO(fR, {$:1, $0:fS});} static A2(fS, fT){ return fO(fR, {$:2, $0:fS, $1:fT});} });
let dV=fH((fQ) => { fN(u0031);return class fR extends u0031 { static { dV=fQ(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function dW(fQ){ return{$:0, $0:fQ};}
function dX(fQ){ return{$:1, $0:fQ};}
let dY=fH((fQ) => class fR { static { dY=fQ(this);} static Cons(fS, fT){ return fO(fR, {$:1, $0:fS, $1:fT});} static Empty=fO(dY, {$:0});GetEnumerator(){ return new bS(this, null, (fS) => { const fT=fS.s;return fT.$==0?false:(fS.c=fT.$0,fS.s=fT.$1,true);}, void 0);} });
function dZ(fQ, fR){ return bs(fR).join(fQ);}
function d0(fQ, fR, fS){ return d2(fQ, new RegExp("["+d3(fR.join(""))+"]"), fS);}
function d1(fQ, fR){ return fQ.substring(0, fR.length)==fR;}
function d2(fQ, fR, fS){ return fS===1?br((fT) => fT!=="", d4(fQ, fR)):d4(fQ, fR);}
function d3(fQ){ return fQ.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function d4(fQ, fR){ return fQ.split(fR);}
function d5(fQ, fR){ return bh(fQ, d6(fR));}
function d6(fQ){ return fQ==null?"":fQ;}
function d7(fQ, fR, fS){ const fT=n(fS);function fU(fV){ return(fW) => { let fX;switch(fW<=0?0:fW===1?fV>=0&&fV<fT?1:(fX=fW,2):(fX=fW,2)){ case 0:return fQ;case 1:return k(fS, fV);case 2:const fY=fW/2>>0;return fR((fU(fV))(fY), (fU(fV+fY))(fW-fY));} };} return(fU(0))(fT);}
function d8(fQ, fR, fS, fT){ const fU=n(fT);function fV(fW){ return(fX) => { let fY;switch(fX<=0?0:fX===1?fW>=0&&fW<fU?1:(fY=fX,2):(fY=fX,2)){ case 0:return fR;case 1:return fQ(k(fT, fW));case 2:const fZ=fX/2>>0;return fS((fV(fW))(fZ), (fV(fW+fZ))(fX-fZ));} };} return(fV(0))(fU);}
function d9(fQ){ if(fQ instanceof Array)return fQ;else if(fQ instanceof dY)return bu(fQ);else if(fQ===null)return[];else { const fR=[];const fS=bO(fQ);try { while(fS.MoveNext())fR.push(fS.Current);return fR;} finally { if(typeof fS=="object"&&a(fS))fS.Dispose();} } }
let d_=fH((fQ) => class fR { static { d_=fQ(this);} c;s;v;static Create(fS){ let fT;fT=null;fT=d_.New(fS, null, () => { let fU;fU=fT.s;return fU===null?(fU=b0(fT.c()),fT.s=fU,b1(fU, () => { fT.s=null;}),fU):fU;});return fT;} static New(fS, fT, fU){ return fO(d_, {c:fS, s:fT, v:fU});} });
let d$=fH((fQ) => class fR extends i { static { d$=fQ(this);} d;GetEnumerator(){ return bO(u0039((fS) => fS.V, this.d));} constructor(fS){ super();this.d=fS;} });
function ea(fQ, fR){ return{PreviousNodes:fQ, Top:fR};}
function eb(){ return ed(new u0034("New_3"));}
function ec(fQ){ const fR=[];function fS(fV, fW){ while(true)switch(fV){ case 0:if(fW!=null&&fW.$==0){ const fX=fW.$1;const fY=fW.$0;fS(0, fY);fW=fX;} else if(fW!=null&&fW.$==1){ const fZ=fW.$0;fW=fZ;fV=1;} else if(fW!=null&&fW.$==2){ const f0=fW.$0;fW=f0.Current;} else if(fW!=null&&fW.$==6){ const f1=fW.$0.Holes;return(((f2) =>(f3) => { bo(f2, f3);})(fU))(f1);} else return null;break;case 1:fR.push(fW);fW=fW.Children;fV=0;break;} } function fT(fV){ return fS(0, fV);} function fU(fV){ return fS(1, fV);} fT(fQ);return ed(new u0034("New_2", fR));}
function ed(fQ){ return{$:0, $0:fQ};}
function ee(fQ, fR){ return ed(eV(fQ, fR.$0));}
function ef(fQ, fR){ return ed(eW(fQ.$0, fR.$0));}
function eg(fQ){ return eX(fQ.$0);}
function eh(fQ, fR){ return ed(eY(fQ.$0, fR.$0));}
function ei(fQ){ return(fR) => { try {(fQ())(fR);} catch(fS){ fR.k(eQ(fS));} };}
function ej(fQ, fR){ return eo((fS) => { fQ(eP((fT) => { if(fT.$==0){ const fU=fT.$0;en().Fork(() => { try {(fR(fU))(fS);} catch(fV){ fS.k(eQ(fV));} });} else en().Fork(() => { fS.k(fT);});}, fS.ct));});}
function ek(){ return eT.Zero;}
function el(fQ, fR){ const fS=(ep())[0];const fT=fR==null?fS:fR.$0;en().Fork(() => { if(!fT.c)fQ(eP((fU) => { if(fU.$==1)eq(fU.$0);}, fT));});}
function em(fQ){ return(fR) => { fR.k(eR(fQ));};}
function en(){ return eT.scheduler;}
function eo(fQ){ return(fR) => { if(fR.ct.c)es(fR);else fQ(fR);};}
function ep(){ return eT.defCTS;}
function eq(fQ){ console.log("WebSharper: Uncaught asynchronous exception", fQ);}
function er(fQ){ return(fR) => { const fS=[false];const fT=(fU) => { if(fS[0])f("A continuation provided by Async.FromContinuations was invoked multiple times");else { fS[0]=true;en().Fork(fU);} };fQ((fU) => { fT(() => { fR.k(eR(fU));});}, (fU) => { fT(() => { fR.k(eQ(fU));});}, (fU) => { fT(() => { fR.k(eS(fU));});});};}
function es(fQ){ fQ.k(eS(new fz("New", fQ.ct)));}
function et(){ return eF.UseAnimations;}
function eu(fQ){ return ew(bj((fR) => fR.$==1?G(fR.$0):null, eH(fQ.$0)));}
function ev(fQ){ bo((fR) => { if(fR.$==0)fR.$0();}, eH(fQ.$0));}
function ew(fQ){ const fR=d9(fQ);const fS=n(fR);if(fS===0)return ey();else if(fS===1)return k(fR, 0);else { const fT=bb(u0039((fV) => fV.Duration, fR));const fU=bq((fV) => eA(fT, fV), fR);return ez(fT, (fV) => { bo((fW) => { fW.Compute(fV);}, fU);});} }
function ex(fQ){ return fQ.$0;}
function ey(fQ){ return ez(0, () => fQ);}
function ez(fQ, fR){ return{Compute:fR, Duration:fQ};}
function eA(fQ, fR){ const fS=fR.Compute;const fT=fR.Duration;const fU=fA(() => fR.Compute(fR.Duration));return{Compute:(fV) => fV>=fT?fU.f():fS(fV), Duration:fQ};}
let eB=fH((fQ) => class fR { static { eB=fQ(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eC(fQ){ let fR=[];let fS;for(var fT in fQ)fR.push.apply(fR, fQ[fT]);return fR;}
let eD=fH((fQ) => class fR { static { eD=fQ(this);} static counter;static { this.counter=0;} });
let eE=fH((fQ) => class fR { static { eE=fQ(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const fS=[1, "<table>", "</table>"];let fT=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", fS], ["tbody", fS], ["tfoot", fS], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=fT;this.defaultWrap=[0, "", ""];} });
let eF=fH((fQ) => class fR { static { eF=fQ(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=eO.Custom((fS) => { const fT=fS*fS;return 3*fT-2*(fT*fS);});this.UseAnimations=true;} });
function eG(fQ, fR){ return fQ.$==0?fR:fR.$==0?fQ:{$:2, $0:fQ, $1:fR};}
function eH(fQ){ const fR=[];function fS(fT){ while(true){ if(fT.$==1)return fR.push(fT.$0);else if(fT.$==2){ const fU=fT.$1;const fV=fT.$0;fS(fV);fT=fU;} else return fT.$==3?bo((fW) => { fR.push(fW);}, fT.$0):null;} } fS(fQ);return fR.slice(0);}
function eI(fQ){ const fR=d9(fQ);return d7(eJ(), eG, fR);}
function eJ(){ return fD.Empty;}
let eK=fH((fQ) => class fR extends i { static { eK=fQ(this);} push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fS){ return di();} NGetEnterAnim(fS){ return di();} NGetChangeAnim(fS){ return di();} NSync(fS){ if(this.dirty){(this.push(fS))(this.value);this.dirty=false;} } constructor(fS, fT){ super();this.push=fT;this.value=void 0;this.dirty=false;this.updates=cK((fU) => { this.value=fU;this.dirty=true;}, fS);} });
let eL=fH((fQ) => { fN(Error);return class fR extends Error { static { eL=fQ(this);} static New(){ return new this("New");} static New_1(fS){ return new this("New_1", fS);} constructor(fS, fT){ if(fS=="New"){ fS="New_1";fT="The given key was not present in the dictionary.";} if(fS=="New_1"){ const fU=fT;super(fU);} } };});
let eM=fH((fQ) => class fR { static { eM=fQ(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(f8) =>[(f9) => { f9.addEventListener("change", () => f8.Get()!=f9.checked?f8.Set(f9.checked):null);}, (f9) =>(f_) => f_!=null&&f_.$==1?void(f9.checked=f_.$0):null, cK(G, f8.View)];this.StringSet=(f8) =>(f9) => { f8.value=f9;};this.StringGet=(f8) => G(f8.value);const fS=e4();const fT=e3();this.StringApply=(f8) => e2(fS, fT, f8);this.StringListSet=(f8) =>(f9) => { const f_=f8.options;for(let f$=0, ga=f_.length-1;f$<=ga;f$++)((() => { const gb=f_.item(f$);gb.selected=c$(gb.value, f9);})());};this.StringListGet=(f8) => { const f9=f8.selectedOptions;return G(bs($(() => ba((f_) =>[f9.item(f_).value], h(0, f9.length-1)))));};const fU=e6();const fV=e5();this.StringListApply=(f8) => e2(fU, fV, f8);this.DateTimeSetUnchecked=(f8) =>(f9) => { f8.value=(new Date(f9)).toLocaleString();};this.DateTimeGetUnchecked=(f8) => { let f9;let f_;const f$=f8.value;if(fo(f$))return G(-8640000000000000);else { f9=0;const ga=fx(f$);let gb=ga!=null&&ga.$==1&&(f9=ga.$0,true);f_=[gb, f9];return f_[0]?G(f_[1]):null;} };const fW=e8();const fX=e7();this.DateTimeApplyUnchecked=(f8) => e2(fW, fX, f8);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(f8) => { const f9=f8.files;return G(bs($(() => u0039((f_) => f9.item(f_), h(0, f9.length-1)))));};const fY=e$();const fZ=e_();this.FileApplyUnchecked=(f8) => e9(fY, fZ, f8);this.IntSetUnchecked=(f8) =>(f9) => { f8.value=String(f9);};this.IntGetUnchecked=(f8) => { const f9=f8.value;if(fo(f9))return G(0);else { const f_=+f9;return f_!==f_>>0?null:G(f_);} };const f0=fb();const f1=fa();this.IntApplyUnchecked=(f8) => e2(f0, f1, f8);this.IntSetChecked=(f8) =>(f9) => { const f_=f9.Input;return f8.value!=f_?void(f8.value=f_):null;};this.IntGetChecked=(f8) => { let f9;let f_;const f$=f8.value;if(fo(f$))f9=(f8.checkValidity?f8.checkValidity():true)?fp.Blank(f$):fp.Invalid(f$);else { const ga=(f_=0,[bM(f$, {get:() => f_, set:(gb) => { f_=gb;}}), f_]);f9=ga[0]?fp.Valid(ga[1], f$):fp.Invalid(f$);} return G(f9);};const f2=fd();const f3=fc();this.IntApplyChecked=(f8) => e2(f2, f3, f8);this.FloatSetUnchecked=(f8) =>(f9) => { f8.value=String(f9);};this.FloatGetUnchecked=(f8) => { const f9=f8.value;if(fo(f9))return G(0);else { const f_=+f9;return isNaN(f_)?null:G(f_);} };const f4=ff();const f5=fe();this.FloatApplyUnchecked=(f8) => e2(f4, f5, f8);this.FloatSetChecked=(f8) =>(f9) => { const f_=f9.Input;return f8.value!=f_?void(f8.value=f_):null;};this.FloatGetChecked=(f8) => { let f9;const f_=f8.value;if(fo(f_))f9=(f8.checkValidity?f8.checkValidity():true)?fp.Blank(f_):fp.Invalid(f_);else { const f$=+f_;f9=isNaN(f$)?fp.Invalid(f_):fp.Valid(f$, f_);} return G(f9);};const f6=fh();const f7=fg();this.FloatApplyChecked=(f8) => e2(f6, f7, f8);} });
let eN=fH((fQ) => class fR extends i { static { eN=fQ(this);} idle;robin;Fork(fS){ this.robin.push(fS);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fS=Date.now();let fT=true;while(fT)if(this.robin.length===0){ this.idle=true;fT=false;} else {(this.robin.shift())();Date.now()-fS>40?(setTimeout(() => { this.tick();}, 0),fT=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} });
let eO=fH((fQ) => class fR extends i { static { eO=fQ(this);} transformTime;static Custom(fS){ return new fR(fS);} constructor(fS){ super();this.transformTime=fS;} });
function eP(fQ, fR){ return{k:fQ, ct:fR};}
function eQ(fQ){ return{$:1, $0:fQ};}
function eR(fQ){ return{$:0, $0:fQ};}
function eS(fQ){ return{$:2, $0:fQ};}
let eT=fH((fQ) => class fR { static { eT=fQ(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=eU(false, []);this.scheduler=new eN();this.defCTS=[new fq()];this.Zero=em();this.GetCT=(fS) => { fS.k(eR(fS.ct));};} });
function eU(fQ, fR){ return{c:fQ, r:fR};}
function eV(fQ, fR){ return new u0034("New_2", br(fQ, eX(fR)));}
function eW(fQ, fR){ const fS=new u0034("New_2", eX(fR));fS.ExceptWith(eX(fQ));return fS;}
function eX(fQ){ const fR=bw(fQ.Count, void 0);fQ.CopyTo(fR, 0);return fR;}
function eY(fQ, fR){ const fS=new u0034("New_2", eX(fQ));fS.IntersectWith(eX(fR));return fS;}
function eZ(fQ){ return fQ.$==1?fQ.$0:e1();}
function e0(fQ){ return fQ.$==1?fQ.$1:e1();}
function e1(){ return f("The input list was empty.");}
function e2(fQ, fR, fS){ let fT;fT=null;return[(fU) => { const fV=() => { fS.UpdateMaybe((fW) => { let fX;fT=fQ(fU);return fT!=null&&fT.$==1&&(!p(fT.$0, fW)&&(fX=[fT, fT.$0],true))?fX[0]:null;});};fU.addEventListener("change", fV);fU.addEventListener("input", fV);fU.addEventListener("keypress", fV);}, (fU) => { const fV=fR(fU);return(fW) => fW==null?null:fV(fW.$0);}, cK((fU) => { let fV;return fT!=null&&fT.$==1&&(p(fT.$0, fU)&&(fV=fT.$0,true))?null:G(fU);}, fS.View)];}
function e3(){ return eM.StringSet;}
function e4(){ return eM.StringGet;}
function e5(){ return eM.StringListSet;}
function e6(){ return eM.StringListGet;}
function e7(){ return eM.DateTimeSetUnchecked;}
function e8(){ return eM.DateTimeGetUnchecked;}
function e9(fQ, fR, fS){ let fT;fT=null;return[(fU) => { fU.addEventListener("change", () => { fS.UpdateMaybe((fV) => { let fW;fT=fQ(fU);return fT!=null&&fT.$==1&&(fT.$0!==fV&&(fW=[fT, fT.$0],true))?fW[0]:null;});});}, (fU) => { const fV=fR(fU);return(fW) => fW==null?null:fV(fW.$0);}, cK((fU) => { let fV;return fT!=null&&fT.$==1&&(p(fT.$0, fU)&&(fV=fT.$0,true))?null:G(fU);}, fS.View)];}
function e_(){ return eM.FileSetUnchecked;}
function e$(){ return eM.FileGetUnchecked;}
function fa(){ return eM.IntSetUnchecked;}
function fb(){ return eM.IntGetUnchecked;}
function fc(){ return eM.IntSetChecked;}
function fd(){ return eM.IntGetChecked;}
function fe(){ return eM.FloatSetUnchecked;}
function ff(){ return eM.FloatGetUnchecked;}
function fg(){ return eM.FloatSetChecked;}
function fh(){ return eM.FloatGetChecked;}
function fi(){ return eM.StringApply;}
function fj(){ return eM.FloatApplyUnchecked;}
function fk(){ return eM.BoolCheckedApply;}
function fl(){ return eM.DateTimeApplyUnchecked;}
function fm(){ return eM.FileApplyUnchecked;}
function fn(){ return eM.StringListApply;}
function fo(fQ){ return d5(fw, fQ);}
let fp=fH((fQ) => class fR { static { fp=fQ(this);} get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fS){ return fO(fR, {$:2, $0:fS});} static Invalid(fS){ return fO(fR, {$:1, $0:fS});} static Valid(fS, fT){ return fO(fR, {$:0, $0:fS, $1:fT});} });
let fq=fH((fQ) => class fR extends i { static { fq=fQ(this);} init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} });
function fr(fQ, fR){ let fS;if(fR!=null&&fR.$==1){ const fT=[];fS=fR.$0[0].nextSibling;while(fS!==fR.$0[1]){ fT.push(fS);fS=fS.nextSibling;} return fv(fT);} else { let fU=fQ.childNodes.length;const fV=fQ.childNodes;let fW=bx(fU, (fX) => fV[fX]);return fv(fW);} }
function fs(fQ, fR){ const fS=fQ.$0;return fv(br((fT) => bv((fU) =>!(fT===fU), fS), fR.$0));}
function ft(fQ, fR){ bo(fQ, fR.$0);}
function fu(fQ){ const fR=[];function fS(fT){ while(true){ if(fT!=null&&fT.$==2){ const fU=fT.$0;fT=fU.Current;} else if(fT!=null&&fT.$==1)return fR.push(fT.$0.El);else if(fT==null)return null;else if(fT!=null&&fT.$==5)return fR.push(fT.$0);else if(fT!=null&&fT.$==4)return fR.push(fT.$0.Text);else if(fT!=null&&fT.$==6){ const fV=fT.$0.Els;return(((fY) =>(fZ) => { bo(fY, fZ);})((fY) => { if(fY==null||fY.constructor===Object)fS(fY);else fR.push(fY);}))(fV);} else { const fW=fT.$1;const fX=fT.$0;fS(fX);fT=fW;} } } fS(fQ.Children);return fv(d9(fR));}
function fv(fQ){ return{$:0, $0:fQ};}
function fw(fQ){ return fQ.match(new RegExp("\\s"))!==null;}
function fx(fQ){ const fR=Date.parse(fQ);return isNaN(fR)?null:G(fR);}
function fy(fQ, fR, fS, fT){ const fU=+fQ;const fV=fU===fU-fU%1&&fU>=fR&&fU<=fS;if(fV)fT.set(fU);return fV;}
let fz=fH((fQ) => { fN(Error);return class fR extends Error { static { fz=fQ(this);} ct;static New(fS){ return new this("New", fS);} static New_1(fS, fT, fU){ return new this("New_1", fS, fT, fU);} constructor(fS, fT, fU, fV){ let fW;if(fS=="New"){ fW=fT;fS="New_1";fT="The operation was canceled.";fU=null;fV=fW;} if(fS=="New_1"){ const fX=fT;const fY=fU;const fZ=fV;super(fX);this.inner=fY;this.ct=fZ;} } };});
function fA(fQ){ return fF(false, fQ, fB);}
function fB(){ const fQ=this.v();this.c=true;this.v=fQ;this.f=fC;return fQ;}
function fC(){ return this.v;}
let fD=fH((fQ) => class fR { static { fD=fQ(this);} static Empty;static { this.Empty={$:0};} });
function fE(fQ){ fQ.splice(0, n(fQ));}
function fF(fQ, fR, fS){ return{c:fQ, v:fR, f:fS};}
fP(() => { b();});
fG();

