import { Start as fG } from "./WebSharper.Core.JavaScript/Runtime.js"
import { MarkResizable as fH, SetOptional as fI, GetOptional as fJ, CreateFuncWithArgs as fK, DeleteEmptyFields as fL, Lazy as fM, Create as fN, OnLoad as fO } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fP){ return"Dispose"in fP;}
function b(){ const fP=new o("New_1");const fQ=(fP.h.push(new u0032("touchinit", () => { c();})),fP);const fR=F(fQ.k, fQ.h, []);const fS=new j(fR[1], A(fR[0]));let fT=(fQ.i=fS,fS);const fU=fT.Doc;H("");Z.RunById("main", fU);}
function c(){ const fP=globalThis.document.getElementById("touchBox");const fQ=globalThis.document.getElementById("status");fP.addEventListener("touchstart", (fR) => { const fS=fR.touches.item(0);const fT=fP.getBoundingClientRect();d().Set(fS.clientX-fT.left);e().Set(fS.clientY-fT.top);fQ.textContent="Touch started!";});fP.addEventListener("touchmove", (fR) => { const fS=fR;fR.preventDefault();const fT=fS.touches.item(0);fP.style.left=(((fU) =>(fV) => fU(fV.toFixed(6)+"px"))((fU) => fU))(fT.clientX-d().Get());fP.style.top=(((fU) =>(fV) => fU(fV.toFixed(6)+"px"))((fU) => fU))(fT.clientY-e().Get());fQ.textContent=((((fU) =>(fV) =>(fW) => fU("Moving to: ("+fV.toFixed(6)+", "+fW.toFixed(6)+")"))((fU) => fU))(fT.clientX))(fT.clientY);});fP.addEventListener("touchend", () => { fQ.textContent="Touch ended!";});}
function d(){ return u0033.offsetX;}
function e(){ return u0033.offsetY;}
function f(fP){ throw new Error(fP);}
function g(fP){ return[fP.K, fP.V];}
function h(fP, fQ){ const fR=1+fQ-fP;return fR<=0?[]:bd(fR, (fS) => fS+fP);}
class i { Equals(fP){ return this===fP;} GetHashCode(){ return -1;} }
class j extends i { doc;allVars;anchorRoot;get Doc(){ return this.doc;} constructor(fP, fQ){ super();this.doc=fQ;this.allVars=fP.$==0?fP.$0:f("Should not happen");this.anchorRoot=null;} }
function k(fP, fQ){ m(fP, fQ);return fP[fQ];}
function l(fP, fQ, fR){ m(fP, fQ);fP[fQ]=fR;}
function m(fP, fQ){ if(fQ<0||fQ>=fP.length)f("Index was outside the bounds of the array.");}
function n(fP){ return fP.dims===2?fP.length*fP.length:fP.length;}
class o extends i { i;k;h;s;constructor(fP){ if(fP=="New_1"){ let fQ;super();this.i=null;this.k=(fQ=C(),String(fQ));this.h=fH([]);fI(this, "s", null);} } }
function p(fP, fQ){ if(fP===fQ)return true;else { const fR=typeof fP;if(fR=="object"){ if(fP===null||fP===void 0||fQ===null||fQ===void 0||!p(typeof fQ, "object"))return false;else if("Equals"in fP)return fP.Equals(fQ);else if("Equals"in fQ)return false;else if(fP instanceof Array&&fQ instanceof Array)return q(fP, fQ);else if(fP instanceof Date&&fQ instanceof Date)return r(fP, fQ);else { const fS=fP;const fT=fQ;const fU=[true];let fV;for(var fX in fS)if(((fY) => { fU[0]=!fS.hasOwnProperty(fY)||fT.hasOwnProperty(fY)&&p(fS[fY], fT[fY]);return!fU[0];})(fX))break;if(fU[0]){ let fW;for(var fY in fT)if(((fZ) => { fU[0]=!fT.hasOwnProperty(fZ)||fS.hasOwnProperty(fZ);return!fU[0];})(fY))break;} return fU[0];} } else return fR=="function"&&("$Func"in fP?fP.$Func===fQ.$Func&&fP.$Target===fQ.$Target:"$Invokes"in fP&&"$Invokes"in fQ&&q(fP.$Invokes, fQ.$Invokes));} }
function q(fP, fQ){ let fR;let fS;if(n(fP)===n(fQ)){ fR=true;fS=0;while(fR&&fS<n(fP)){!p(k(fP, fS), k(fQ, fS))?fR=false:void 0;fS=fS+1;} return fR;} else return false;}
function r(fP, fQ){ return fP.getTime()===fQ.getTime();}
function s(fP){ const fQ=typeof fP;return fQ=="function"?0:fQ=="boolean"?fP?1:0:fQ=="number"?fP:fQ=="string"?t(fP):fQ=="object"?fP==null?0:fP instanceof Array?u(fP):v(fP):0;}
function t(fP){ let fQ;if(fP===null)return 0;else { fQ=5381;for(let fR=0, fS=fP.length-1;fR<=fS;fR++)fQ=w(fQ, fP[fR].charCodeAt());return fQ;} }
function u(fP){ let fQ=-34948909;for(let fR=0, fS=n(fP)-1;fR<=fS;fR++)fQ=w(fQ, s(k(fP, fR)));return fQ;}
function v(fP){ if("GetHashCode"in fP)return fP.GetHashCode();else { const fQ=[0];let fR;for(var fS in fP)if(((fT) => { fQ[0]=w(w(fQ[0], t(fT)), s(fP[fT]));return false;})(fS))break;return fQ[0];} }
function w(fP, fQ){ return(fP<<5)+fP+fQ;}
function x(fP, fQ){ if(fP===fQ)return 0;else { const fR=typeof fP;switch(fR=="function"?1:fR=="boolean"?2:fR=="number"?2:fR=="string"?2:fR=="object"?3:0){ case 0:return typeof fQ=="undefined"?0:-1;case 1:return f("Cannot compare function values.");case 2:return fP<fQ?-1:1;case 3:if(fP===null)return -1;else if(fQ===null)return 1;else if("CompareTo"in fP)return fP.CompareTo(fQ);else if("CompareTo0"in fP)return fP.CompareTo0(fQ);else if(fP instanceof Array&&fQ instanceof Array)return y(fP, fQ);else if(fP instanceof Date&&fQ instanceof Date)return z(fP, fQ);else { const fS=fP;const fT=fQ;const fU=[0];let fV;for(var fX in fS)if(((fY) =>!fS.hasOwnProperty(fY)?false:!fT.hasOwnProperty(fY)?(fU[0]=1,true):(fU[0]=x(fS[fY], fT[fY]),fU[0]!==0))(fX))break;if(fU[0]===0){ let fW;for(var fY in fT)if(((fZ) =>!fT.hasOwnProperty(fZ)?false:!fS.hasOwnProperty(fZ)&&(fU[0]=-1,true))(fY))break;} return fU[0];} break;} } }
function y(fP, fQ){ let fR;let fS;if(n(fP)<n(fQ))return -1;else if(n(fP)>n(fQ))return 1;else { fR=0;fS=0;while(fR===0&&fS<n(fP)){ fR=x(k(fP, fS), k(fQ, fS));fS=fS+1;} return fR;} }
function z(fP, fQ){ return x(fP.getTime(), fQ.getTime());}
function A(fP){ let fQ=G("main");H("index");return fP?I("index", fQ, fP):void 0;}
function B(fP){ const fQ={};const fR=bO(fP);try { while(fR.MoveNext()){ const fS=fR.Current;fQ[fS[0]]=fS[1];} } finally { const fT=fR;if(typeof fT=="object"&&a(fT))fR.Dispose();} return fQ;}
function C(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (fP) => { const fQ=Math.random()*16|0;const fR=fP=="x"?fQ:fQ&3|8;return fR.toString(16);});}
function D(fP){ let fQ=[];let fR;for(var fS in fP)fQ.push(fP[fS]);return fQ;}
class E extends i { }
function F(fP, fQ, fR){ const fS=new u0030("New_5");const fT=new u0034("New_3");const fU=bO(fQ);try { while(fU.MoveNext()){ const fV=fU.Current;const fW=fV.Name;fT.SAdd(fW);fS.set_Item(fW, fV);} } finally { const fX=fU;if(typeof fX=="object"&&a(fX))fU.Dispose();} return[u0035(fQ, bj((fY) => { const fZ=fY[0];const f0=fY[1];const f1=fY[2];if(fT.Contains(fZ))return null;else { const f2=f0===0?by.GetOrAddHoleFor(fP, fZ, () => { const f3=f1==null?null:G(f1.$0);let f4=f3==null?"":f3.$0;let f5=bA.Create_1(f4);return new bz(fZ, f5);}):f0===1?by.GetOrAddHoleFor(fP, fZ, () => { const f3=f1==null?null:G(f1.$0);let f4=f3==null?0:f3.$0;let f5=bA.Create_1(f4);return new bB(fZ, f5);}):f0===2?by.GetOrAddHoleFor(fP, fZ, () => { const f3=f1==null?null:G(f1.$0);let f4=f3==null?false:f3.$0;let f5=bA.Create_1(f4);return new bC(fZ, f5);}):f0===3?by.GetOrAddHoleFor(fP, fZ, () => { const f3=f1==null?null:G(f1.$0);let f4=f3==null?-8640000000000000:f3.$0;let f5=bA.Create_1(f4);return new bD(fZ, f5);}):f0===4?by.GetOrAddHoleFor(fP, fZ, () => new bE(fZ, bA.Create_1([]))):f0===5?by.GetOrAddHoleFor(fP, fZ, () => new bF(fZ, bA.Create_1(G(globalThis.document.querySelector("[ws-dom="+fZ+"]"))))):f0===6?by.GetOrAddHoleFor(fP, fZ, () => { const f3=f1==null?null:G(f1.$0);let f4=f3==null?[]:f3.$0;let f5=bA.Create_1(f4);return new bG(fZ, f5);}):f("Invalid value type");fS.set_Item(fZ, f2);return G(f2);} }, fR)), {$:0, $0:fS}];}
function G(fP){ return{$:1, $0:fP};}
function H(fP){!J()?(K(true),L(globalThis.document.body, "")):void 0;M().set_Item(fP, N(""));}
function I(fP, fQ, fR){ let fS;const fT=(fS=null,[N(fP).TryGetValue(fQ==null?"":fQ.$0, {get:() => fS, set:(fU) => { fS=fU;}}), fS]);return fT[0]?O(fT[1].cloneNode(true), fR):(console.warn("Local template doesn't exist", fQ),Z.Empty);}
function J(){ return cf.LocalTemplatesLoaded;}
function K(fP){ cf.LocalTemplatesLoaded=fP;}
function L(fP, fQ){ const fR=N(fQ);const fS=new u0030("New_5");const fT=fP.querySelectorAll("[ws-template]");for(let f5=0, f6=fT.length-1;f5<=f6;f5++){ const fU=fT[f5];const fV=fU.getAttribute("ws-template").toLowerCase();fU.removeAttribute("ws-template");fS.set_Item(fV, P(fU));} const fW=fP.querySelectorAll("[ws-children-template]");for(let f7=0, f8=fW.length-1;f7<=f8;f7++){ const fX=fW[f7];const fY=fX.getAttribute("ws-children-template").toLowerCase();fX.removeAttribute("ws-children-template");fS.set_Item(fY, Q(fX));} const fZ=fP.querySelectorAll("template[id]");for(let f9=0, f_=fZ.length-1;f9<=f_;f9++){ const f0=fZ[f9];fS.set_Item(f0.getAttribute("id").toLowerCase(), R(f0));} const f1=fP.querySelectorAll("template[name]");for(let f$=0, ga=f1.length-1;f$<=ga;f$++){ const f2=f1[f$];fS.set_Item(f2.getAttribute("name").toLowerCase(), R(f2));} const f3=new u0034("New_3");function f4(gb){ if(!fR.ContainsKey(gb)){ let gc;const gd=(gc=null,[fS.TryGetValue(gb, {get:() => gc, set:(ge) => { gc=ge;}}), gc]);if(gd[0]){ f3.SAdd(gb);fS.RemoveKey(gb);S(fQ, G(gb), gd[1], G(f4));} else console.warn(f3.Contains(gb)?"Encountered loop when instantiating "+gb:"Local template does not exist: "+gb);} } while(fS.count>0)f4(u0036(fS.Keys));}
function M(){ return cf.LoadedTemplates;}
function N(fP){ let fQ;const fR=(fQ=null,[M().TryGetValue(fP, {get:() => fQ, set:(fT) => { fQ=fT;}}), fQ]);if(fR[0])return fR[1];else { const fS=new u0030("New_5");M().set_Item(fP, fS);return fS;} }
function O(fP, fQ){ let fR;const fS=T(fP, u0035(fQ, U().Values));const fT=fS[1];const fU=fS[0];const fV=fU.Els;return!p(fV, null)&&fV.length===1&&(k(fV, 0)instanceof Node&&(p(k(fV, 0).nodeType, Node.ELEMENT_NODE)&&(fR=k(fV, 0),true)))?cH.TreeNode(fU, fT):Z.Mk(bI(fU), fT);}
function P(fP){ fP.removeAttribute("ws-template");const fQ=fP.getAttribute("ws-replace");if(fQ==null){ } else { fP.removeAttribute("ws-replace");const fR=fP.parentNode;if(p(fR, null)){ } else { const fS=globalThis.document.createElement(fP.tagName);fS.setAttribute("ws-replace", fQ);fR.replaceChild(fS, fP);} } const fT=globalThis.document.createElement("div");fT.appendChild(fP);return fT;}
function Q(fP){ const fQ=globalThis.document.createElement("div");while(fP.hasChildNodes())fQ.appendChild(fP.firstChild);return fQ;}
function R(fP){ const fQ=globalThis.document.createElement("div");const fR=fP.content;for(let fS=0, fT=fR.childNodes.length-1;fS<=fT;fS++)fQ.appendChild(fR.childNodes[fS].cloneNode(true));return fQ;}
function S(fP, fQ, fR, fS){ const fT=new u0034("New_3");function fU(f1, f2){ while(true)switch(f1){ case 0:if(f2!==null){ const f3=f2.nextSibling;if(p(f2.nodeType, Node.TEXT_NODE))cQ(f2);else if(p(f2.nodeType, Node.ELEMENT_NODE))fW(f2);f2=f3;} else return null;break;case 1:const f4=cY(f2.nodeName, G(3), null).toLowerCase();const f5=f4.indexOf(".");const f6=f5===-1?[fP, f4]:[cY(f4, null, G(f5-1)), cY(f4, G(f5+1), null)];const f7=f6[1];const f8=f6[0];if(f8!=""&&!M().ContainsKey(f8))return cR(f7);else { if(f8==""&&fS!=null)fS.$0(f7);const f9=M().Item(f8);if(!f9.ContainsKey(f7))return cR(f7);else { const f_=f9.Item(f7);const f$=f_.cloneNode(true);const ga=new u0034("New_3");const gb=new u0030("New_5");const gc=f2.attributes;for(let gm=0, gn=gc.length-1;gm<=gn;gm++){ const gd=gc.item(gm).name.toLowerCase();const ge=gc.item(gm).nodeValue;let gf=ge==""?gd:ge.toLowerCase();gb.set_Item(gd, gf);if(!ga.SAdd(gd))console.warn("Hole mapped twice", gd);} for(let go=0, gp=f2.childNodes.length-1;go<=gp;go++){ const gg=f2.childNodes[go];if(p(gg.nodeType, Node.ELEMENT_NODE))if(!ga.SAdd(gg.nodeName.toLowerCase()))console.warn("Hole filled twice", f7);} const gh=f2.childNodes.length===1&&p(f2.firstChild.nodeType, Node.TEXT_NODE);if(gh){ const gi=cS(f$, f2.firstChild.textContent, f7);const gj=((gq) =>(gr) => gq.SAdd(gr))(ga);let gk=((gq) =>(gr) => { if(gr!=null)gq(gr.$0);})((gq) => { gj(gq);});gk(gi);} cT(f$, ga);if(!gh){ for(let gq=0, gr=f2.childNodes.length-1;gq<=gr;gq++){ const gl=f2.childNodes[gq];if(p(gl.nodeType, Node.ELEMENT_NODE))if(gl.hasAttributes())cU(f$, gl);else fV(f$, gl);} } cV(f$, gb);cW(f$, f2.parentNode, f2);f2.parentNode.removeChild(f2);return;} } break;} } function fV(f1, f2){ const f3=f2.nodeName.toLowerCase();const f4=(f8, f9) => { if(f3=="title"&&f2.hasChildNodes()){ const f_=cZ(f2.textContent);f2.removeChild(f2.firstChild);while(f_.hasChildNodes())f2.appendChild(f_.firstChild);} fW(f2);return cW(f2, f8, f9);};V(f1, "[ws-attr-holes]", (f8) => { const f9=d0(f8.getAttribute("ws-attr-holes"), [" "], 1);for(let gb=0, gc=f9.length-1;gb<=gc;gb++){ const f_=k(f9, gb);let f$=new RegExp("\\${"+f3+"}", "ig");let ga=f8.getAttribute(f_).replace(f$, f2.textContent);f8.setAttribute(f_, ga);} });const f5=f1.querySelector("[ws-hole="+f3+"]");if(p(f5, null)){ const f6=f1.querySelector("[ws-replace="+f3+"]");if(p(f6, null)){ const f7=f1.querySelector("slot[name="+f3+"]");return f1.tagName.toLowerCase()=="template"?(f4(f7.parentNode, f7),void f7.parentNode.removeChild(f7)):null;} else { f4(f6.parentNode, f6);f6.parentNode.removeChild(f6);return;} } else { while(f5.hasChildNodes())f5.removeChild(f5.lastChild);f5.removeAttribute("ws-hole");return(((f8) => { const f9=f8;return(f_) => f4(f9, f_);})(f5))(null);} } function fW(f1){ if(!f1.hasAttribute("ws-preserve"))if(d1(f1.nodeName.toLowerCase(), "ws-"))fY(f1);else { cX(f1);fX(f1.firstChild);} } function fX(f1){ return fU(0, f1);} function fY(f1){ return fU(1, f1);} function fZ(f1){ while(true){ const f2=f1.querySelector("[ws-template]");if(p(f2, null)){ const f3=f1.querySelector("[ws-children-template]");if(p(f3, null)){ const f4=f1.querySelectorAll("template[id]");for(let f_=1, f$=f4.length-1;f_<=f$;f_++){ const f5=f4[f_];if(fT.Contains(f5)){ } else { S(fP, G(f5.getAttribute("id")), f5, null);fT.SAdd(f5);} } const f6=f1.querySelectorAll("template[name]");for(let ga=1, gb=f6.length-1;ga<=gb;ga++){ const f7=f6[ga];if(fT.Contains(f7)){ } else { S(fP, G(f7.getAttribute("name")), f7, null);fT.SAdd(f7);} } return null;} else { const f8=f3.getAttribute("ws-children-template");f3.removeAttribute("ws-children-template");S(fP, G(f8), f3, null);f1=f1;} } else { const f9=f2.getAttribute("ws-template");(W(fP, G(f9), f2))(null);f1=f1;} } } const f0=(fQ==null?"":fQ.$0).toLowerCase();N(fP).set_Item(f0, fR);if(fR.hasChildNodes()){ fZ(fR);fX(fR.firstChild);} }
function T(fP, fQ){ let fR;const fS=[];const fT=[];const fU=[];const fV=[];const fW=new u0030("New_5");const fX=bO(fQ);try { while(fX.MoveNext()){ const fY=fX.Current;fW.set_Item(fY.Name, fY);} } finally { const fZ=fX;if(typeof fZ=="object"&&a(fZ))fX.Dispose();} let f0=c0(fP);const f1=(f_, f$) => { const ga=dn(f_, f$);fT.push(do_1(ga));fU.push([f_, ga]);const gb=fJ(ga.OnAfterRender);if(gb==null)return null;else { const gc=gb.$0;fV.push(() => { gc(f_);});return;} };const f2=(f_) => { let f$;const ga=(f$=null,[fW.TryGetValue(f_, {get:() => f$, set:(gd) => { f$=gd;}}), f$]);if(ga[0]){ const gb=ga[1];if(gb instanceof dE)return G(gb.Value);else if(gb instanceof dF)return G(Z.TextNode(gb.Value));else { const gc=gb.ForTextView();return gc==null?null:G(Z.TextView(gc.$0));} } else return null;};V(fP, "[ws-hole]", (f_) => { const f$=f_.getAttribute("ws-hole");f_.removeAttribute("ws-hole");while(f_.hasChildNodes())f_.removeChild(f_.lastChild);const ga=f2(f$);if(ga!=null&&ga.$==1){ const gb=ga.$0;cg(f_, gb.docNode);fS.push(cA.New(dp(f_), gb.docNode, null, f_, cB(), null));fT.push(gb.updates);} });V(fP, "[ws-replace]", (f_) => { const f$=f2(f_.getAttribute("ws-replace"));if(f$!=null&&f$.$==1){ const ga=f$.$0;const gb=f_.parentNode;const gc=globalThis.document.createTextNode("");gb.replaceChild(gc, f_);const gd=cl(gc, ga.docNode);f0=c0(fP);const ge=bk((gf) => f_===gf, f0);if(ge==null){ } else l(f0, ge.$0, ga.docNode);fS.push(cA.New(dp(gb), ga.docNode, G([gd, gc]), gb, cB(), null));fT.push(ga.updates);} });let f3=false;V(fP, "slot", (f_) => { const f$=f_.getAttribute("name");const ga=f$==""||f$==null?"default":f$.toLowerCase();if(f3&&ga=="default"||!p(fP.parentElement, null)){ } else { while(f_.hasChildNodes())f_.removeChild(f_.lastChild);if(ga=="default")f3=true;const gb=f2(ga);if(gb!=null&&gb.$==1){ const gc=gb.$0;cg(f_, gc.docNode);fS.push(cA.New(dp(f_), gc.docNode, null, f_, cB(), null));fT.push(gc.updates);} } });V(fP, "[ws-attr]", (f_) => { let f$;const ga=f_.getAttribute("ws-attr");f_.removeAttribute("ws-attr");const gb=(f$=null,[fW.TryGetValue(ga, {get:() => f$, set:(gd) => { f$=gd;}}), f$]);if(gb[0]){ const gc=gb[1];if(gc instanceof dG)f1(f_, gc.Value);else console.warn("Attribute hole filled with non-attribute data", ga);} });V(fP, "[ws-on]", (f_) => { f1(f_, dU.Concat(bj((f$) => { let ga;const gb=d0(f$, [":"], 1);const gc=(ga=null,[fW.TryGetValue(k(gb, 1), {get:() => ga, set:(ge) => { ga=ge;}}), ga]);if(gc[0]){ const gd=gc[1];return gd instanceof dH?G(dI(k(gb, 0), gd.Value)):gd instanceof dT?G(dU.Handler(k(gb, 0), gd.Value)):(console.warn("Event hole on"+k(gb, 0)+" filled with non-event data", k(gb, 1)),null);} else return null;}, d0(f_.getAttribute("ws-on"), [" "], 1))));f_.removeAttribute("ws-on");});V(fP, "[ws-onafterrender]", (f_) => { let f$;const ga=f_.getAttribute("ws-onafterrender");const gb=(f$=null,[fW.TryGetValue(ga, {get:() => f$, set:(gd) => { f$=gd;}}), f$]);if(gb[0]){ const gc=gb[1];if(gc instanceof dV){ f_.removeAttribute("ws-onafterrender");f1(f_, dJ(gc.Value));} else if(gc instanceof u0032){ f_.removeAttribute("ws-onafterrender");f1(f_, dJ(gc.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", ga);} });V(fP, "[ws-var]", (f_) => { let f$;const ga=f_.getAttribute("ws-var");f_.removeAttribute("ws-var");const gb=(f$=null,[fW.TryGetValue(ga, {get:() => f$, set:(gc) => { f$=gc;}}), f$]);if(gb[0])gb[1].AddAttribute((gc) =>(gd) => f1(gc, gd), f_);});const f4=() => { X("[ws-dom]", (f_) => { let f$;let ga;let gb;const gc=(f$=null,[fW.TryGetValue(f_.getAttribute("ws-dom").toLowerCase(), {get:() => f$, set:(gg) => { f$=gg;}}), f$]);if(gc[0]){ const gd=gc[1];if(gd instanceof bF){ const ge=gd.Value;f_.removeAttribute("ws-dom");ga=f_;const gf=new MutationObserver((gg, gh) => { bo((gi) => { gi.removedNodes.forEach(fK((gj) => gj[0]===ga&&gi.addedNodes.length!==1?(ge.SetFinal(null),gh.disconnect()):null), null);}, gg);});if(f_.parentElement!==null)gf.observe(f_.parentElement, (gb={},gb.childList=true,gb));ge.Set(G(f_));cJ((gg) => { if(gg!=null&&gg.$==1){ const gh=gg.$0;if(ga===gh){ } else { let gi=[gh];ga.replaceWith.apply(ga, gi);ga=gh;} } else { ga.remove();gf.disconnect();} }, ge.View);} } });};V(fP, "[ws-attr-holes]", (f_) => { const f$=new RegExp(Y(), "g");const ga=d0(f_.getAttribute("ws-attr-holes"), [" "], 1);f_.removeAttribute("ws-attr-holes");for(let gb=0, gc=ga.length-1;gb<=gc;gb++)((() => { let gd;const ge=k(ga, gb);const gf=f_.getAttribute(ge);let gg=null;let gh=0;const gi=[];while(gg=f$.exec(gf),gg!==null){ const gj=cY(gf, G(gh), G(f$.lastIndex-k(gg, 0).length-1));gh=f$.lastIndex;gi.push([gj, k(gg, 1)]);} const gk=cY(gf, G(gh), null);f$.lastIndex=0;const gl=bp((gq, gr) =>(((gs) => { const gt=gs[0];const gu=gs[1];return(gv) => { let gw;const gx=gv[0];const gy=gv[1];const gz=(gw=null,[fW.TryGetValue(gu, {get:() => gw, set:(gB) => { gw=gB;}}), gw]);const gA=gz[0]?gz[1].AsChoiceView:dW("");return gA.$==1?[gt, dY.Cons(gx==""?gA.$0:cK((gB) => gB+gx, gA.$0), gy)]:[gt+gA.$0+gx, gy];};})(gq))(gr), gi, [gk, dY.Empty]);if(gl[1].$==1){ if(gl[1].$1.$==1){ if(gl[1].$1.$1.$==1){ if(gl[1].$1.$1.$1.$==0){ const gm=gl[0];gd=dK(ge, cL((gq, gr, gs) => gm+gq+gr+gs, gl[1].$0, gl[1].$1.$0, gl[1].$1.$1.$0));} else { const gn=gl[0];gd=dK(ge, cK((gq) => gn+dZ("", gq), cM(gl[1])));} } else { const go=gl[0];gd=dK(ge, cN((gq, gr) => go+gq+gr, gl[1].$0, gl[1].$1.$0));} } else if(gl[0]=="")gd=dK(ge, gl[1].$0);else { const gp=gl[0];gd=dK(ge, cK((gq) => gp+gq, gl[1].$0));} } else gd=dU.Create(ge, gl[0]);return f1(f_, gd);})());});let f5=f0;const f6=fV.length==0?G(() => { f4();}):G((f_) => { f4();bo((f$) => { f$(f_);}, fV);});const f7=!p(f0, null)&&f0.length===1&&(k(f0, 0)instanceof Node&&(k(f0, 0)instanceof Element&&(fR=k(f0, 0),true)))?G(fR):null;let f8={Els:f5, Dirty:true, Holes:fS, Attrs:fU, Render:f6?f6.$0:void 0, El:f7?f7.$0:void 0};let f9=fL(f8, ["Render", "El"]);return[f9, d7(cI(), cO, fT)];}
function U(){ return cf.GlobalHoles;}
function V(fP, fQ, fR){ c6(fP, fQ, (fS) => { if(fS.closest("[ws-preserve]")==null)fR(fS);});}
function W(fP, fQ, fR){ const fS=P(fR);return(fT) => { S(fP, fQ, fS, fT);};}
function X(fP, fQ){ c7(fP, (fR) => { if(fR.closest("[ws-preserve]")==null)fQ(fR);});}
function Y(){ return cf.TextHoleRE;}
class Z extends i { docNode;updates;static RunById(fP, fQ){ const fR=globalThis.document.getElementById(fP);if(p(fR, null))f("invalid id: "+fP);else Z.Run(fR, fQ);} static Run(fP, fQ){ cg(fP, fQ.docNode);Z.RunInPlace(false, fP, fQ);} static get Empty(){ return Z.Mk(null, cI());} static RunInPlace(fP, fQ, fR){ const fS=ci(fQ, fR.docNode);cJ(dc()||dj()?dk(cj(fP, fS, fR.docNode)):() => { ck(fP, fS, fR.docNode);}, fR.updates);} static Mk(fP, fQ){ return new Z(fP, fQ);} static TextNode(fP){ return Z.Mk(bJ(globalThis.document.createTextNode(fP)), cI());} static TextView(fP){ const fQ=ct();return Z.Mk(bK(fQ), cK((fR) => { cu(fQ, fR);}, fP));} constructor(fP, fQ){ super();this.docNode=fP;this.updates=fQ;} }
class u0030 extends i { equals;hash;count;data;set_Item(fP, fQ){ this.set(fP, fQ);} set(fP, fQ){ const fR=this.hash(fP);const fS=this.data[fR];if(fS==null){ this.count=this.count+1;this.data[fR]=new Array({K:fP, V:fQ});} else { const fT=bk((fU) => this.equals.apply(null, [(g(fU))[0], fP]), fS);if(fT==null){ this.count=this.count+1;fS.push({K:fP, V:fQ});} else fS[fT.$0]={K:fP, V:fQ};} } TryGetValue(fP, fQ){ const fR=this.data[this.hash(fP)];if(fR==null)return false;else { const fS=bl((fT) => { const fU=g(fT);return this.equals.apply(null, [fU[0], fP])?G(fU[1]):null;}, fR);return fS!=null&&fS.$==1&&(fQ.set(fS.$0),true);} } ContainsKey(fP){ const fQ=this.data[this.hash(fP)];return fQ==null?false:bm((fR) => this.equals.apply(null, [(g(fR))[0], fP]), fQ);} RemoveKey(fP){ return this.remove(fP);} get Keys(){ return new db(this);} GetEnumerator(){ return bR(bn(D(this.data)));} get Values(){ return new d$(this);} remove(fP){ const fQ=this.hash(fP);const fR=this.data[fQ];if(fR==null)return false;else { const fS=br((fT) =>!this.equals.apply(null, [(g(fT))[0], fP]), fR);return n(fS)<fR.length&&(this.count=this.count-1,this.data[fQ]=fS,true);} } Item(fP){ return this.get(fP);} get(fP){ const fQ=this.data[this.hash(fP)];return fQ==null?bN():bt((fR) => { const fS=g(fR);return this.equals.apply(null, [fS[0], fP])?G(fS[1]):null;}, fQ);} constructor(fP, fQ, fR, fS){ if(fP=="New_5"){ fP="New_6";fQ=[];fR=p;fS=s;} if(fP=="New_6"){ const fT=fQ;const fU=fR;const fV=fS;super();this.equals=fU;this.hash=fV;this.count=0;this.data=[];const fW=bO(fT);try { while(fW.MoveNext()){ const fX=fW.Current;this.set(fX.K, fX.V);} } finally { const fY=fW;if(typeof fY=="object"&&a(fY))fW.Dispose();} } } }
class u0031 extends i { ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(fP, fQ){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return dW("");} }
class u0032 extends u0031 { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fP, fQ){ super();this.name=fP;this.fillWith=fQ;} }
let u0033=fM((fP) => class fQ { static { u0033=fP(this);} static offsetY;static offsetX;static { this.offsetX=bA.Create_1(0);this.offsetY=bA.Create_1(0);} });
class u0034 extends i { equals;hash;data;count;SAdd(fP){ return this.add(fP);} Contains(fP){ const fQ=this.data[this.hash(fP)];return fQ==null?false:this.arrContains(fP, fQ);} add(fP){ const fQ=this.hash(fP);const fR=this.data[fQ];return fR==null?(this.data[fQ]=[fP],this.count=this.count+1,true):this.arrContains(fP, fR)?false:(fR.push(fP),this.count=this.count+1,true);} arrContains(fP, fQ){ let fR=true;let fS=0;const fT=fQ.length;while(fR&&fS<fT)if(this.equals.apply(null, [fQ[fS], fP]))fR=false;else fS=fS+1;return!fR;} GetEnumerator(){ return bO(eC(this.data));} ExceptWith(fP){ const fQ=bO(fP);try { while(fQ.MoveNext())this.Remove(fQ.Current);} finally { const fR=fQ;if(typeof fR=="object"&&a(fR))fQ.Dispose();} } get Count(){ return this.count;} IntersectWith(fP){ const fQ=new u0034("New_4", fP, this.equals, this.hash);const fR=eC(this.data);for(let fT=0, fU=fR.length-1;fT<=fU;fT++){ const fS=fR[fT];if(!fQ.Contains(fS))this.Remove(fS);} } Remove(fP){ const fQ=this.data[this.hash(fP)];return fQ==null?false:this.arrRemove(fP, fQ)&&(this.count=this.count-1,true);} CopyTo(fP, fQ){ const fR=eC(this.data);for(let fS=0, fT=fR.length-1;fS<=fT;fS++)l(fP, fS+fQ, fR[fS]);} arrRemove(fP, fQ){ let fR=true;let fS=0;const fT=fQ.length;while(fR&&fS<fT)if(this.equals.apply(null, [fQ[fS], fP])){ fQ.splice(fS, 1);fR=false;} else fS=fS+1;return!fR;} constructor(fP, fQ, fR, fS){ if(fP=="New_3"){ fP="New_4";fQ=[];fR=p;fS=s;} let fT;if(fP=="New_2"){ fT=fQ;fP="New_4";fQ=fT;fR=p;fS=s;} if(fP=="New_4"){ const fU=fQ;const fV=fR;const fW=fS;super();this.equals=fV;this.hash=fW;this.data=[];this.count=0;const fX=bO(fU);try { while(fX.MoveNext())this.add(fX.Current);} finally { const fY=fX;if(typeof fY=="object"&&a(fY))fX.Dispose();} } } }
function u0035(fP, fQ){ return{GetEnumerator:() => { const fR=bO(fP);const fS=[true];return new bS(fR, null, (fT) => { if(fT.s.MoveNext()){ fT.c=fT.s.Current;return true;} else { const fU=fT.s;if(!p(fU, null))fU.Dispose();fT.s=null;return fS[0]&&(fS[0]=false,fT.s=bO(fQ),fT.s.MoveNext()?(fT.c=fT.s.Current,true):(fT.s.Dispose(),fT.s=null,false));} }, (fT) => { const fU=fT.s;if(!p(fU, null))fU.Dispose();});}};}
function u0036(fP){ const fQ=bO(fP);try { return fQ.MoveNext()?fQ.Current:c_();} finally { const fR=fQ;if(typeof fR=="object"&&a(fR))fQ.Dispose();} }
function u0037(fP, fQ, fR){ let fS=fQ;const fT=bO(fR);try { while(fT.MoveNext())fS=fP(fS, fT.Current);return fS;} finally { const fU=fT;if(typeof fU=="object"&&a(fU))fT.Dispose();} }
function u0038(fP, fQ){ const fR=bO(fQ);try { while(fR.MoveNext())fP(fR.Current);} finally { const fS=fR;if(typeof fS=="object"&&a(fS))fR.Dispose();} }
function u0039(fP, fQ){ return{GetEnumerator:() => { const fR=bO(fQ);return new bS(null, null, (fS) => fR.MoveNext()&&(fS.c=fP(fR.Current),true), () => { fR.Dispose();});}};}
function $(fP){ return{GetEnumerator:() => bO(fP())};}
function ba(fP, fQ){ return bc(u0039(fP, fQ));}
function bb(fP){ const fQ=bO(fP);try { if(!fQ.MoveNext())be();let fR=fQ.Current;while(fQ.MoveNext()){ const fS=fQ.Current;if(x(fS, fR)===1)fR=fS;} return fR;} finally { const fT=fQ;if(typeof fT=="object"&&a(fT))fQ.Dispose();} }
function bc(fP){ return{GetEnumerator:() => { const fQ=bO(fP);function fR(fS){ while(true){ const fT=fS.s;if(p(fT, null)){ if(fQ.MoveNext()){ fS.s=bO(fQ.Current);fS=fS;} else { fQ.Dispose();return false;} } else if(fT.MoveNext()){ fS.c=fT.Current;return true;} else { fS.Dispose();fS.s=null;fS=fS;} } } return new bS(null, null, fR, (fS) => { const fT=fS.s;if(!p(fT, null))fT.Dispose();const fU=fQ;if(!p(fU, null))fU.Dispose();});}};}
function bd(fP, fQ){ return bf(fP, bg(fQ));}
function be(){ return f("The input sequence was empty.");}
function bf(fP, fQ){ fP<0?da():void 0;return{GetEnumerator:() => { const fR=[bO(fQ)];return new bS(0, null, (fS) => { fS.s=fS.s+1;if(fS.s>fP)return false;else { const fT=fR[0];return p(fT, null)?c_():fT.MoveNext()?(fS.c=fT.Current,fS.s===fP?(fT.Dispose(),fR[0]=null):void 0,true):(fT.Dispose(),fR[0]=null,c_());} }, () => { const fS=fR[0];if(!p(fS, null))fS.Dispose();});}};}
function bg(fP){ return{GetEnumerator:() => new bS(0, null, (fQ) => { fQ.c=fP(fQ.s);fQ.s=fQ.s+1;return true;}, void 0)};}
function bh(fP, fQ){ return!bi((fR) =>!fP(fR), fQ);}
function bi(fP, fQ){ const fR=bO(fQ);try { let fS=false;while(!fS&&fR.MoveNext())fS=fP(fR.Current);return fS;} finally { const fT=fR;if(typeof fT=="object"&&a(fT))fR.Dispose();} }
function bj(fP, fQ){ const fR=[];for(let fT=0, fU=fQ.length-1;fT<=fU;fT++){ const fS=fP(fQ[fT]);if(fS==null){ } else fR.push(fS.$0);} return fR;}
function bk(fP, fQ){ let fR=null;let fS=0;while(fS<fQ.length&&fR==null){ fP(fQ[fS])?fR=G(fS):void 0;fS=fS+1;} return fR;}
function bl(fP, fQ){ let fR=null;let fS=0;while(fS<fQ.length&&fR==null){ const fT=fP(fQ[fS]);if(fT!=null&&fT.$==1)fR=fT;fS=fS+1;} return fR;}
function bm(fP, fQ){ let fR=false;let fS=0;const fT=n(fQ);while(!fR&&fS<fT)if(fP(fQ[fS]))fR=true;else fS=fS+1;return fR;}
function bn(fP){ return Array.prototype.concat.apply([], bs(fP));}
function bo(fP, fQ){ for(let fR=0, fS=fQ.length-1;fR<=fS;fR++)fP(fQ[fR]);}
function bp(fP, fQ, fR){ let fS=fR;const fT=fQ.length;for(let fU=1, fV=fT;fU<=fV;fU++)fS=fP(fQ[fT-fU], fS);return fS;}
function bq(fP, fQ){ const fR=new Array(fQ.length);for(let fS=0, fT=fQ.length-1;fS<=fT;fS++)fR[fS]=fP(fQ[fS]);return fR;}
function br(fP, fQ){ const fR=[];for(let fS=0, fT=fQ.length-1;fS<=fT;fS++)if(fP(fQ[fS]))fR.push(fQ[fS]);return fR;}
function bs(fP){ if(fP instanceof Array)return fP.slice();else if(fP instanceof dY)return bu(fP);else { const fQ=[];const fR=bO(fP);try { while(fR.MoveNext())fQ.push(fR.Current);return fQ;} finally { const fS=fR;if(typeof fS=="object"&&a(fS))fR.Dispose();} } }
function bt(fP, fQ){ const fR=bl(fP, fQ);return fR==null?f("KeyNotFoundException"):fR.$0;}
function bu(fP){ const fQ=[];let fR=fP;while(!(fR.$==0)){ fQ.push(eZ(fR));fR=e0(fR);} return fQ;}
function bv(fP, fQ){ let fR=true;let fS=0;const fT=n(fQ);while(fR&&fS<fT)if(fP(fQ[fS]))fS=fS+1;else fR=false;return fR;}
function bw(fP, fQ){ const fR=new Array(fP);for(let fS=0, fT=fP-1;fS<=fT;fS++)fR[fS]=fQ;return fR;}
function bx(fP, fQ){ if(fP<0)f("Negative size given.");else null;const fR=new Array(fP);for(let fS=0, fT=fP-1;fS<=fT;fS++)fR[fS]=fQ(fS);return fR;}
let by=fM((fP) => class fQ extends i { static { by=fP(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(fR, fS, fT){ let fU;const fV=by.GetHolesFor(fR);const fW=(fU=null,[fV.TryGetValue(fS, {get:() => fU, set:(fY) => { fU=fY;}}), fU]);if(fW[0])return fW[1];else { const fX=fT();fV.set_Item(fS, fX);return fX;} } static GetHolesFor(fR){ let fS;const fT=(fS=null,[by.initialized.TryGetValue(fR, {get:() => fS, set:(fV) => { fS=fV;}}), fS]);if(fT[0])return fT[1];else { const fU=new u0030("New_5");by.initialized.set_Item(fR, fU);return fU;} } static { by.initialized=new u0030("New_5");by.instances=new u0030("New_5");} });
class bz extends u0031 { name;fillWith;get Name(){ return this.name;} ForTextView(){ return G(this.fillWith.View);} AddAttribute(fP, fQ){(fP(fQ))(dL(this.fillWith));} get AsChoiceView(){ return dX(cK(String, this.fillWith.View));} constructor(fP, fQ){ super();this.name=fP;this.fillWith=fQ;} }
let bA=fM((fP) => class fQ extends i { static { bA=fP(this);} static Create_1(fR){ return new bT(false, {s:cE(fR, [])}, fR);} static { } });
class bB extends u0031 { name;fillWith;get Name(){ return this.name;} ForTextView(){ return G(cK(String, this.fillWith.View));} AddAttribute(fP, fQ){(fP(fQ))(dM(this.fillWith));} get AsChoiceView(){ return dX(cK(String, this.fillWith.View));} constructor(fP, fQ){ super();this.name=fP;this.fillWith=fQ;} }
class bC extends u0031 { name;fillWith;get Name(){ return this.name;} ForTextView(){ return G(cK(String, this.fillWith.View));} AddAttribute(fP, fQ){(fP(fQ))(dN(this.fillWith));} get AsChoiceView(){ return dX(cK(String, this.fillWith.View));} constructor(fP, fQ){ super();this.name=fP;this.fillWith=fQ;} }
class bD extends u0031 { name;fillWith;get Name(){ return this.name;} ForTextView(){ return G(cK((fP) =>(new Date(fP)).toLocaleString(), this.fillWith.View));} AddAttribute(fP, fQ){(fP(fQ))(dO(this.fillWith));} get AsChoiceView(){ return dX(cK((fP) =>(new Date(fP)).toLocaleString(), this.fillWith.View));} constructor(fP, fQ){ super();this.name=fP;this.fillWith=fQ;} }
class bE extends u0031 { name;fillWith;get Name(){ return this.name;} ForTextView(){ return G(cK(String, this.fillWith.View));} AddAttribute(fP, fQ){(fP(fQ))(dP(this.fillWith));} get AsChoiceView(){ return dX(cK(String, this.fillWith.View));} constructor(fP, fQ){ super();this.name=fP;this.fillWith=fQ;} }
class bF extends u0031 { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fP, fQ){ super();this.name=fP;this.fillWith=fQ;} }
class bG extends u0031 { name;fillWith;get Name(){ return this.name;} ForTextView(){ return G(cK((fP) => dZ(",", fP), this.fillWith.View));} AddAttribute(fP, fQ){(fP(fQ))(dQ(this.fillWith));} get AsChoiceView(){ return dX(cK(String, this.fillWith.View));} constructor(fP, fQ){ super();this.name=fP;this.fillWith=fQ;} }
class bH extends i { }
function bI(fP){ return{$:6, $0:fP};}
function bJ(fP){ return{$:5, $0:fP};}
function bK(fP){ return{$:4, $0:fP};}
class bL { }
function bM(fP, fQ){ return fy(fP, -2147483648, 2147483647, fQ);}
function bN(){ throw new eL("New");}
function bO(fP){ return fP instanceof Array?bP(fP):p(typeof fP, "string")?bQ(fP):fP.GetEnumerator();}
function bP(fP){ return new bS(0, null, (fQ) => { const fR=fQ.s;return fR<n(fP)&&(fQ.c=k(fP, fR),fQ.s=fR+1,true);}, void 0);}
function bQ(fP){ return new bS(0, null, (fQ) => { const fR=fQ.s;return fR<fP.length&&(fQ.c=fP[fR],fQ.s=fR+1,true);}, void 0);}
function bR(fP){ return fP instanceof Array?bP(fP):p(typeof fP, "string")?bQ(fP):"GetEnumerator0"in fP?fP.GetEnumerator0():fP.GetEnumerator();}
class bS extends i { s;c;n;d;e;MoveNext(){ const fP=this.n(this);this.e=fP?1:2;return fP;} get Current(){ return this.e===1?this.c:this.e===0?f("Enumeration has not started. Call MoveNext."):f("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(fP, fQ, fR, fS){ super();this.s=fP;this.c=fQ;this.n=fR;this.d=fS;this.e=0;} }
class bT extends E { isConst;current;snap;view;id;Set(fP){ if(this.isConst)(((fQ) => fQ("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fQ) => { console.log(fQ);}));else { dm(this.snap);this.current=fP;this.snap={s:cE(fP, [])};} } Get(){ return this.current;} SetFinal(fP){ if(this.isConst)(((fQ) => fQ("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fQ) => { console.log(fQ);}));else { dm(this.snap);this.isConst=true;this.current=fP;this.snap={s:cF(fP)};} } get View(){ return this.view;} UpdateMaybe(fP){ const fQ=fP(this.Get());if(fQ!=null&&fQ.$==1)this.Set(fQ.$0);} constructor(fP, fQ, fR){ super();this.isConst=fP;this.current=fR;this.snap=fQ;this.view=() => this.snap;this.id=cB();} }
function bU(fP, fQ, fR){ const fS=fP.s;if(fS==null)fR();else if(fS!=null&&fS.$==2){ const fT=fS.$0;fS.$1.push(fR);fQ(fT);} else if(fS!=null&&fS.$==3){ const fU=fS.$1;fS.$0.push(fQ);fU.push(fR);} else fQ(fS.$0);}
function bV(fP, fQ){ const fR=fQ.s;if(fR!=null&&fR.$==0)return{s:cF(fP(fR.$0))};else { const fS={s:cG([], [])};b2(fQ, (fT) => { b3(fS, fQ, fP(fT));}, fS);return fS;} }
function bW(fP, fQ, fR, fS){ const fT=fQ.s;const fU=fR.s;const fV=fS.s;if(fT!=null&&fT.$==0)return fU!=null&&fU.$==0?fV!=null&&fV.$==0?{s:cF(fP(fT.$0, fU.$0, fV.$0))}:b4(fP, fT.$0, fU.$0, fS):fV!=null&&fV.$==0?b5(fP, fT.$0, fV.$0, fR):b6(fP, fT.$0, fR, fS);else if(fU!=null&&fU.$==0)return fV!=null&&fV.$==0?b7(fP, fU.$0, fV.$0, fQ):b8(fP, fU.$0, fQ, fS);else if(fV!=null&&fV.$==0)return b9(fP, fV.$0, fQ, fR);else { const fW={s:cG([], [])};const fX=() => { const fY=fW.s;if(!(fY!=null&&fY.$==0||fY!=null&&fY.$==2)){ const fZ=b_(fQ);const f0=b_(fR);const f1=b_(fS);if(fZ!=null&&fZ.$==1)if(f0!=null&&f0.$==1)if(f1!=null&&f1.$==1)if(fZ.$0[1]&&f0.$0[1]&&f1.$0[1])b$(fW, fP(fZ.$0[0], f0.$0[0], f1.$0[0]));else ca(fW, fP(fZ.$0[0], f0.$0[0], f1.$0[0]));} };b2(fQ, fX, fW);b2(fR, fX, fW);b2(fS, fX, fW);return fW;} }
function bX(fP){ const fQ=bs(fP);if(fQ.length==0)return{s:cF([])};else { const fR={s:cG([], [])};const fS=[n(fQ)-1];const fT=() => { if(fS[0]===0){ const fU=bq((fV) => { const fW=fV.s;return fW!=null&&fW.$==0?fW.$0:fW!=null&&fW.$==2?fW.$0:f("value not found by View.Sequence");}, fQ);if(bv((fV) => { const fW=fV.s;return fW!=null&&fW.$==0;}, fQ))b$(fR, fU);else ca(fR, fU);} else fS[0]=fS[0]-1;};bo((fU) => { b2(fU, fT, fR);}, fQ);return fR;} }
function bY(fP, fQ, fR){ const fS=fQ.s;const fT=fR.s;if(fS!=null&&fS.$==0)return fT!=null&&fT.$==0?{s:cF(fP(fS.$0, fT.$0))}:cb(fP, fS.$0, fR);else if(fT!=null&&fT.$==0)return cc(fP, fT.$0, fQ);else { const fU={s:cG([], [])};const fV=() => { const fW=fU.s;if(!(fW!=null&&fW.$==0||fW!=null&&fW.$==2)){ const fX=b_(fQ);const fY=b_(fR);if(fX!=null&&fX.$==1)if(fY!=null&&fY.$==1)if(fX.$0[1]&&fY.$0[1])b$(fU, fP(fX.$0[0], fY.$0[0]));else ca(fU, fP(fX.$0[0], fY.$0[0]));} };b2(fQ, fV, fU);b2(fR, fV, fU);return fU;} }
function bZ(fP, fQ){ const fR=fP.s;const fS=fQ.s;if(fR!=null&&fR.$==0)return fS!=null&&fS.$==0?{s:cF(null)}:fQ;else if(fS!=null&&fS.$==0)return fP;else { const fT={s:cG([], [])};const fU=() => { const fV=fT.s;if(!(fV!=null&&fV.$==0||fV!=null&&fV.$==2)){ const fW=b_(fP);const fX=b_(fQ);if(fW!=null&&fW.$==1)if(fX!=null&&fX.$==1)if(fW.$0[1]&&fX.$0[1])b$(fT, null);else ca(fT, null);} };b2(fP, fU, fT);b2(fQ, fU, fT);return fT;} }
function b0(fP){ const fQ=fP.s;if(fQ==null)return fP;else if(fQ!=null&&fQ.$==2){ const fR={s:cE(fQ.$0, [])};cd(fP, fR);return fR;} else if(fQ!=null&&fQ.$==3){ const fS={s:cG([], [])};b2(fP, (fT) => { b3(fS, fP, fT);}, fS);return fS;} else return fP;}
function b1(fP, fQ){ const fR=fP.s;if(fR==null)fQ();else fR!=null&&fR.$==2?(fR.$0,fR.$1.push(fQ)):fR!=null&&fR.$==3?(fR.$0,fR.$1.push(fQ)):fR.$0;}
function b2(fP, fQ, fR){ const fS=fP.s;if(fS==null)dm(fR);else if(fS!=null&&fS.$==2){ const fT=fS.$0;ce(fS.$1, fR);fQ(fT);} else if(fS!=null&&fS.$==3){ const fU=fS.$1;fS.$0.push(fQ);ce(fU, fR);} else fQ(fS.$0);}
function b3(fP, fQ, fR){ const fS=fQ.s;if(fS!=null&&fS.$==0)b$(fP, fR);else ca(fP, fR);}
function b4(fP, fQ, fR, fS){ return bV((fT) => fP(fQ, fR, fT), fS);}
function b5(fP, fQ, fR, fS){ return bV((fT) => fP(fQ, fT, fR), fS);}
function b6(fP, fQ, fR, fS){ return bY((fT, fU) => fP(fQ, fT, fU), fR, fS);}
function b7(fP, fQ, fR, fS){ return bV((fT) => fP(fT, fQ, fR), fS);}
function b8(fP, fQ, fR, fS){ return bY((fT, fU) => fP(fT, fQ, fU), fR, fS);}
function b9(fP, fQ, fR, fS){ return bY((fT, fU) => fP(fT, fU, fQ), fR, fS);}
function b_(fP){ const fQ=fP.s;return fQ!=null&&fQ.$==0?G([fQ.$0, true]):fQ!=null&&fQ.$==2?G([fQ.$0, false]):null;}
function b$(fP, fQ){ const fR=fP.s;if(fR!=null&&fR.$==3){ const fS=fR.$0;fP.s=cF(fQ);for(let fT=0, fU=n(fS)-1;fT<=fU;fT++)(k(fS, fT))(fQ);} else void 0;}
function ca(fP, fQ){ const fR=fP.s;if(fR!=null&&fR.$==3){ const fS=fR.$1;const fT=fR.$0;fP.s=cE(fQ, fS);for(let fU=0, fV=n(fT)-1;fU<=fV;fU++)(k(fT, fU))(fQ);} else void 0;}
function cb(fP, fQ, fR){ return bV((fS) => fP(fQ, fS), fR);}
function cc(fP, fQ, fR){ return bV((fS) => fP(fS, fQ), fR);}
function cd(fP, fQ){ const fR=fP.s;if(fR==null)dm(fQ);else fR!=null&&fR.$==2?(fR.$0,ce(fR.$1, fQ)):fR!=null&&fR.$==3?(fR.$0,ce(fR.$1, fQ)):fR.$0;}
function ce(fP, fQ){ fP.push(fQ);if(fP.length%20===0){ const fR=fP.slice(0);fE(fP);for(let fT=0, fU=n(fR)-1;fT<=fU;fT++){ const fS=k(fR, fT);if(typeof fS=="object")(((fV) => { if(fV.s)fP.push(fV);})(fS));else(((fV) => { fP.push(fV);})(fS));} } else void 0;}
let cf=fM((fP) => class fQ { static { cf=fP(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new u0030("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new u0030("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function cg(fP, fQ){ ch(fP, fQ, null);}
function ch(fP, fQ, fR){ while(true){ if(fQ!=null&&fQ.$==1)return cm(fP, fQ.$0.El, fR);else if(fQ!=null&&fQ.$==2){ const fS=fQ.$0;fS.Dirty=false;fQ=fS.Current;} else if(fQ==null)return fR;else if(fQ!=null&&fQ.$==4)return cm(fP, fQ.$0.Text, fR);else if(fQ!=null&&fQ.$==5)return cm(fP, fQ.$0, fR);else if(fQ!=null&&fQ.$==6)return bp((fV, fW) =>((((fX) =>(fY) =>(fZ) => fY==null||fY.constructor===Object?ch(fX, fY, fZ):cm(fX, fY, fZ))(fP))(fV))(fW), fQ.$0.Els, fR);else { const fT=fQ.$1;const fU=fQ.$0;fQ=fU;fR=ch(fP, fT, fR);} } }
function ci(fP, fQ){ return ea(eb(), cn(fP, dt(), fQ));}
function cj(fP, fQ, fR){ return dc()?ei(() => { const fS=ec(fR);const fT=cr(fQ, fS);const fU=cq(fQ, fS);return ej(dd(de(fT, cp(fQ, fS))), () => ej(co(fP, fQ), () => ej(dd(fU), () => { fQ.PreviousNodes=fS;return em(null);})));}):co(fP, fQ);}
function ck(fP, fQ, fR){ const fS=ec(fR);cs(fP, fQ.Top);fQ.PreviousNodes=fS;}
function cl(fP, fQ){ const fR=fP.parentNode;const fS=globalThis.document.createTextNode("");fR.insertBefore(fS, fP);cv(fP, fQ);return fS;}
function cm(fP, fQ, fR){ c8(fP, fR, fQ);return fQ;}
function cn(fP, fQ, fR){ cg(fP, fR);const fS=dn(fP, fQ);return cA.New(fS, fR, null, fP, cB(), fJ(fS.OnAfterRender));}
function co(fP, fQ){ if(dj()){ const fR=(fS) => { requestAnimationFrame(() => { cs(fP, fQ.Top);fS();});};return er((fS, fT, fU) => fR.apply(null, [fS, fT, fU]));} else { cs(fP, fQ.Top);return em(null);} }
function cp(fP, fQ){ return dh(bq((fR) => dv(fR.Attr), eg(ef(fQ, ee((fR) => du(fR.Attr), fP.PreviousNodes)))));}
function cq(fP, fQ){ return dh(bq((fR) => dx(fR.Attr), eg(ef(fP.PreviousNodes, ee((fR) => dw(fR.Attr), fQ)))));}
function cr(fP, fQ){ const fR=(fT) => dy(fT.Attr);const fS=(fT) => ee(fR, fT);return dh(bq((fT) => dz(fT.Attr), eg(eh(fS(fP.PreviousNodes), fS(fQ)))));}
function cs(fP, fQ){!fP?cw(fQ):void 0;cx(fQ.Children);cy(fQ);}
function ct(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cu(fP, fQ){ fP.Value=fQ;fP.Dirty=true;}
function cv(fP, fQ){ ch(fP.parentNode, fQ, fP);}
function cw(fP){ function fQ(fR){ function fS(fT){ while(true){ if(fT!=null&&fT.$==0){ const fU=fT.$1;const fV=fT.$0;if(fS(fV))return true;else fT=fU;} else if(fT!=null&&fT.$==2){ const fW=fT.$0;if(fW.Dirty)return true;else fT=fW.Current;} else if(fT!=null&&fT.$==6){ const fX=fT.$0;return fX.Dirty||bm(fQ, fX.Holes);} else return false;} } return fS(fR.Children);} dC(fP.El, fP.Attr);if(fQ(fP))cz(fP);}
function cx(fP){ while(true){ if(fP!=null&&fP.$==1)return cs(false, fP.$0);else if(fP!=null&&fP.$==2){ const fQ=fP.$0;fP=fQ.Current;} else if(fP==null)return null;else if(fP!=null&&fP.$==5)return null;else if(fP!=null&&fP.$==4){ const fR=fP.$0;return fR.Dirty?(fR.Text.nodeValue=fR.Value,fR.Dirty=false):null;} else if(fP!=null&&fP.$==6){ const fS=fP.$0;bo((fV) => { cs(false, fV);}, fS.Holes);bo((fV) => { dC(fV[0], fV[1]);}, fS.Attrs);return cy(fS);} else { const fT=fP.$1;const fU=fP.$0;cx(fU);fP=fT;} } }
function cy(fP){ const fQ=fJ(fP.Render);if(fQ!=null&&fQ.$==1){ fQ.$0(fP.El);fI(fP, "Render", null);} }
function cz(fP){ const fQ=fP.El;function fR(fW, fX){ while(true){ if(fW!=null&&fW.$==1)return fW.$0.El;else if(fW!=null&&fW.$==2){ const fY=fW.$0;if(fY.Dirty){ fY.Dirty=false;return ch(fQ, fY.Current, fX);} else fW=fY.Current;} else if(fW==null)return fX;else if(fW!=null&&fW.$==4)return fW.$0.Text;else if(fW!=null&&fW.$==5)return fW.$0;else if(fW!=null&&fW.$==6){ const fZ=fW.$0;if(fZ.Dirty)fZ.Dirty=false;return bp((f2, f3) => f2==null||f2.constructor===Object?fR(f2, f3):f2, fZ.Els, fX);} else { const f0=fW.$1;const f1=fW.$0;fW=f1;fX=fR(f0, fX);} } } const fS=fP.El;ft((fW) => { c9(fS, fW);}, fs(fu(fP), fr(fP.El, fJ(fP.Delimiters))));let fT=fP.Children;const fU=fJ(fP.Delimiters);let fV=fU!=null&&fU.$==1?fU.$0[1]:null;fR(fT, fV);}
class cA { Attr;Children;Delimiters;El;ElKey;Render;Equals(fP){ return this.ElKey===fP.ElKey;} GetHashCode(){ return this.ElKey;} static New(fP, fQ, fR, fS, fT, fU){ const fV={Attr:fP, Children:fQ, El:fS, ElKey:fT};let fW=(fI(fV, "Delimiters", fR),fI(fV, "Render", fU),fV);return fN(cA, fW);} }
function cB(){ cC(cD()+1);return cD();}
function cC(fP){ eD.counter=fP;}
function cD(){ return eD.counter;}
function cE(fP, fQ){ return{$:2, $0:fP, $1:fQ};}
function cF(fP){ return{$:0, $0:fP};}
function cG(fP, fQ){ return{$:3, $0:fP, $1:fQ};}
class cH extends Z { docNode_1;updates_1;elt;rvUpdates;static TreeNode(fP, fQ){ const fR=d_.Create(fQ);let fS=bI(fP);const fT=bq((fW) => do_1(fW[1]), fP.Attrs);let fU=d7(cI(), cO, fT);let fV=cO(fU, fR.v);return new cH(fS, fV, k(fP.Els, 0), fR);} constructor(fP, fQ, fR, fS){ super(fP, fQ);this.docNode_1=fP;this.updates_1=fQ;this.elt=fR;this.rvUpdates=fS;} }
function cI(fP){ const fQ={s:cF(fP)};return() => fQ;}
function cJ(fP, fQ){ function fR(){ bU(fQ(), fP, () => { en().Fork(fR);});} en().Fork(fR);}
function cK(fP, fQ){ return cP(() => bV(fP, fQ()));}
function cL(fP, fQ, fR, fS){ return cP(() => bW(fP, fQ(), fR(), fS()));}
function cM(fP){ return cP(() => bX(u0039((fQ) => fQ(), fP)));}
function cN(fP, fQ, fR){ return cP(() => bY(fP, fQ(), fR()));}
function cO(fP, fQ){ return cP(() => bZ(fP(), fQ()));}
function cP(fP){ const fQ={c:null, o:fP};return() => { let fR=fQ.c;if(fR===null){ fR=fQ.o();fQ.c=fR;const fS=fR.s;if(fS!=null&&fS.$==0)fQ.o=null;else b1(fR, () => { fQ.c=null;});return fR;} else return fR;};}
function cQ(fP){ let fQ=null;let fR=0;const fS=fP.textContent;const fT=new RegExp(Y(), "g");while(fQ=fT.exec(fS),fQ!==null){ fP.parentNode.insertBefore(globalThis.document.createTextNode(cY(fS, G(fR), G(fT.lastIndex-k(fQ, 0).length-1))), fP);fR=fT.lastIndex;const fU=globalThis.document.createElement("span");fU.setAttribute("ws-replace", k(fQ, 1).toLowerCase());fP.parentNode.insertBefore(fU, fP);} fT.lastIndex=0;fP.textContent=cY(fS, G(fR), null);}
function cR(fP){ console.warn("Instantiating non-loaded template", fP);}
function cS(fP, fQ, fR){ const fS=fP.querySelector("[ws-replace]");return p(fS, null)?(console.warn("Filling non-existent text hole", fR),null):(fS.parentNode.replaceChild(globalThis.document.createTextNode(fQ), fS),G(fS.getAttribute("ws-replace")));}
function cT(fP, fQ){ const fR=(fS) => { V(fP, "["+fS+"]", (fT) => { if(!fQ.Contains(fT.getAttribute(fS)))fT.removeAttribute(fS);});};fR("ws-attr");fR("ws-onafterrender");fR("ws-var");V(fP, "[ws-hole]", (fS) => { if(!fQ.Contains(fS.getAttribute("ws-hole"))){ fS.removeAttribute("ws-hole");while(fS.hasChildNodes())fS.removeChild(fS.lastChild);} });V(fP, "[ws-replace]", (fS) => { if(!fQ.Contains(fS.getAttribute("ws-replace")))fS.parentNode.removeChild(fS);});V(fP, "[ws-on]", (fS) => { fS.setAttribute("ws-on", dZ(" ", br((fT) => fQ.Contains(k(d0(fT, [":"], 1), 1)), d0(fS.getAttribute("ws-on"), [" "], 1))));});V(fP, "[ws-attr-holes]", (fS) => { const fT=d0(fS.getAttribute("ws-attr-holes"), [" "], 1);for(let fX=0, fY=fT.length-1;fX<=fY;fX++){ const fU=k(fT, fX);let fV=new RegExp(Y(), "g");let fW=fS.getAttribute(fU).replace(fV, (fZ, f0) => fQ.Contains(f0)?fZ:"");fS.setAttribute(fU, fW);} });}
function cU(fP, fQ){ cX(fQ);const fR=fQ.nodeName.toLowerCase();const fS=fP.querySelector("[ws-attr="+fR+"]");if(p(fS, null))console.warn("Filling non-existent attr hole", fR);else { fS.removeAttribute("ws-attr");for(let fU=0, fV=fQ.attributes.length-1;fU<=fV;fU++){ const fT=fQ.attributes.item(fU);if(fT.name=="class"&&fS.hasAttribute("class"))fS.setAttribute("class", fS.getAttribute("class")+" "+fT.nodeValue);else fS.setAttribute(fT.name, fT.nodeValue);} } }
function cV(fP, fQ){ const fR=(fS) => { V(fP, "["+fS+"]", (fT) => { let fU;const fV=(fU=null,[fQ.TryGetValue(fT.getAttribute(fS).toLowerCase(), {get:() => fU, set:(fW) => { fU=fW;}}), fU]);if(fV[0])fT.setAttribute(fS, fV[1]);});};fR("ws-hole");fR("ws-replace");fR("ws-attr");fR("ws-onafterrender");fR("ws-var");V(fP, "[ws-on]", (fS) => { fS.setAttribute("ws-on", dZ(" ", bq((fT) => { let fU;const fV=d0(fT, [":"], 1);const fW=(fU=null,[fQ.TryGetValue(k(fV, 1), {get:() => fU, set:(fX) => { fU=fX;}}), fU]);return fW[0]?k(fV, 0)+":"+fW[1]:fT;}, d0(fS.getAttribute("ws-on"), [" "], 1))));});V(fP, "[ws-attr-holes]", (fS) => { const fT=d0(fS.getAttribute("ws-attr-holes"), [" "], 1);for(let fU=0, fV=fT.length-1;fU<=fV;fU++)((() => { const fW=k(fT, fU);return fS.setAttribute(fW, u0037((fX, fY) => { const fZ=g(fY);return fX.replace(new RegExp("\\${"+fZ[0]+"}", "ig"), "${"+fZ[1]+"}");}, fS.getAttribute(fW), fQ));})());});}
function cW(fP, fQ, fR){ while(true){ if(fP.hasChildNodes())fR=fQ.insertBefore(fP.lastChild, fR);else return null;} }
function cX(fP){ const fQ=fP.attributes;const fR=[];const fS=[];const fT=[];for(let fY=0, fZ=fQ.length-1;fY<=fZ;fY++){ const fU=fQ.item(fY);if(d1(fU.nodeName, "ws-on")&&fU.nodeName!="ws-onafterrender"&&fU.nodeName!="ws-on"){ fR.push(fU.nodeName);fS.push(cY(fU.nodeName, G("ws-on".length), null)+":"+fU.nodeValue.toLowerCase());} else if(!d1(fU.nodeName, "ws-")&&(new RegExp(Y())).test(fU.nodeValue)){ let fV=new RegExp(Y(), "g");let fW=fU.nodeValue.replace(fV, (f0, f1) =>"${"+f1.toLowerCase()+"}");fU.nodeValue=fW;fT.push(fU.nodeName);} else void 0;} if(!(fS.length==0))fP.setAttribute("ws-on", dZ(" ", fS));if(!(fT.length==0))fP.setAttribute("ws-attr-holes", dZ(" ", fT));const fX=(f0) => { const f1=fP.getAttribute(f0);if(f1==null){ } else fP.setAttribute(f0, f1.toLowerCase());};fX("ws-hole");fX("ws-replace");fX("ws-attr");fX("ws-onafterrender");fX("ws-var");bo((f0) => { fP.removeAttribute(f0);}, fR);}
function cY(fP, fQ, fR){ if(fQ==null){ if(fR!=null&&fR.$==1){ const fS=fR.$0;return fS<0?"":fP.slice(0, fS+1);} else return"";} else if(fR==null)return fP.slice(fQ.$0);else { const fT=fR.$0;const fU=fQ.$0;return fT<0?"":fP.slice(fU, fT+1);} }
function cZ(fP){ const fQ=globalThis.document.createElement("div");if(!c1().test(fP)){ fQ.appendChild(globalThis.document.createTextNode(fP));return fQ;} else { const fR=c5().exec(fP);const fS=p(fR, null)?"":k(fR, 1).toLowerCase();const fT=(c2())[fS];const fU=fT?fT:c3();fQ.innerHTML=fU[1]+fP.replace(c4(), "<$1></$2>")+fU[2];function fV(fW, fX){ while(true){ if(fX===0)return fW;else { const fY=fX;fW=fW.lastChild;fX=fY-1;} } } return(((fW) => { const fX=fW;return(fY) => fV(fX, fY);})(fQ))(fU[0]);} }
function c0(fP){ const fQ=[];for(let fR=0, fS=fP.childNodes.length-1;fR<=fS;fR++)fQ.push(fP.childNodes[fR]);return fQ;}
function c1(){ return eE.rhtml;}
function c2(){ return eE.wrapMap;}
function c3(){ return eE.defaultWrap;}
function c4(){ return eE.rxhtmlTag;}
function c5(){ return eE.rtagName;}
function c6(fP, fQ, fR){ const fS=fP.querySelectorAll(fQ);for(let fT=0, fU=fS.length-1;fT<=fU;fT++)fR(fS[fT]);}
function c7(fP, fQ){ const fR=globalThis.document.querySelectorAll(fP);for(let fS=0, fT=fR.length-1;fS<=fT;fS++)fQ(fR[fS]);}
function c8(fP, fQ, fR){ let fS;if(fR.parentNode===fP){ const fT=fR.nextSibling;let fU=p(fT, null)?null:fT;fS=fQ===fU;} else fS=false;if(!fS)fP.insertBefore(fR, fQ);}
function c9(fP, fQ){ if(fQ.parentNode===fP)fP.removeChild(fQ);}
function c_(){ return f("The input sequence has an insufficient number of elements.");}
function c$(fP, fQ){ let fR=true;let fS=0;const fT=n(fQ);while(fR&&fS<fT)if(p(fQ[fS], fP))fR=false;else fS=fS+1;return!fR;}
function da(){ return f("The input must be non-negative.");}
class db extends i { d;GetEnumerator(){ return bO(u0039((fP) => fP.K, this.d));} constructor(fP){ super();this.d=fP;} }
function dc(){ return et();}
function dd(fP){ return ei(() => ej(df(() => { }, eu(fP)), () => { ev(fP);return em(null);}));}
function de(fP, fQ){ return dg(eG(fP.$0, fQ.$0));}
function df(fP, fQ){ const fR=fQ.Duration;if(fR===0)return ek();else { const fS=(fT) => { function fU(fV){ return(fW) => { const fX=fW-fV;fQ.Compute(fX);fP();return fX<=fR?void requestAnimationFrame((fY) => {(fU(fV))(fY);}):fT();};} requestAnimationFrame((fV) => {(fU(fV))(fV);});};return er((fT, fU, fV) => fS.apply(null, [fT, fU, fV]));} }
function dg(fP){ return{$:0, $0:fP};}
function dh(fP){ return dg(eI(u0039(ex, fP)));}
function di(){ return dg(eJ());}
function dj(){ return eB.BatchUpdatesEnabled;}
function dk(fP){ const fQ=[0];function fR(){ return ei(() => ej(fP, () => { const fS=fQ[0];return p(fS, 1)?(fQ[0]=0,ek()):p(fS, 2)?(fQ[0]=1,fR()):ek();}));} return() => { const fS=fQ[0];if(p(fS, 0)){ fQ[0]=1;el(fR(), null);} else p(fS, 1)?fQ[0]=2:void 0;};}
function dl(fP, fQ, fR, fS){ const fT={DynElem:fP, DynFlags:fQ, DynNodes:fR};fI(fT, "OnAfterRender", fS);return fT;}
function dm(fP){ let fQ;const fR=fP.s;if(fR==null||(fR!=null&&fR.$==2?(fQ=fR.$1,false):fR!=null&&fR.$==3?(fQ=fR.$1,false):true))void 0;else { fP.s=null;for(let fT=0, fU=n(fQ)-1;fT<=fU;fT++){ const fS=k(fQ, fT);if(typeof fS=="object")(((fV) => { dm(fV);})(fS));else fS();} } }
function dn(fP, fQ){ const fR=[];const fS=[];function fT(fW){ while(true){ if(!(fW===null)){ if(fW!=null&&fW.$==1)return fR.push(fW.$0);else if(fW!=null&&fW.$==2){ const fX=fW.$1;const fY=fW.$0;fT(fY);fW=fX;} else return fW!=null&&fW.$==3?fW.$0(fP):fW!=null&&fW.$==4?fS.push(fW.$0):null;} else return null;} } fT(fQ);const fU=fR.slice(0);let fV=dl(fP, dq(fQ), fU, fS.length===0?null:G((fW) => { u0038((fX) => { fX(fW);}, fS);}));return fV;}
function do_1(fP){ return d8((fQ) => fQ.NChanged, cI(), cO, fP.DynNodes);}
function dp(fP){ return dl(fP, 0, [], null);}
function dq(fP){ return fP!==null&&fP.hasOwnProperty("flags")?fP.flags:0;}
function dr(fP){ return dU.A3(fP);}
function ds(fP, fQ){ return dU.A1(new eK(fP, fQ));}
function dt(){ return eM.EmptyAttr;}
function du(fP){ const fQ=2;return(fP.DynFlags&fQ)===fQ;}
function dv(fP){ return dB(fP, (fQ, fR) => fQ.NGetExitAnim(fR));}
function dw(fP){ const fQ=1;return(fP.DynFlags&fQ)===fQ;}
function dx(fP){ return dB(fP, (fQ, fR) => fQ.NGetEnterAnim(fR));}
function dy(fP){ const fQ=4;return(fP.DynFlags&fQ)===fQ;}
function dz(fP){ return dB(fP, (fQ, fR) => fQ.NGetChangeAnim(fR));}
function dA(fP, fQ){ if(fP===null)return fQ;else if(fQ===null)return fP;else { const fR=dU.A2(fP, fQ);dD(fR, dq(fP)|dq(fQ));return fR;} }
function dB(fP, fQ){ return dh(bq((fR) => fQ(fR, fP.DynElem), fP.DynNodes));}
function dC(fP, fQ){ bo((fR) => { fR.NSync(fP);}, fQ.DynNodes);}
function dD(fP, fQ){ fP.flags=fQ;}
class dE extends u0031 { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class dF extends u0031 { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} get AsChoiceView(){ return dW(this.fillWith);} }
class dG extends u0031 { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class dH extends u0031 { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function dI(fP, fQ){ return dr((fR) => { fR.addEventListener(fP, (fS) =>(fQ(fR))(fS), false);});}
function dJ(fP){ return dU.A4(fP);}
function dK(fP, fQ){ return ds(fQ, (fR) =>(fS) => fR.setAttribute(fP, fS));}
function dL(fP){ return dR(fi(), fP);}
function dM(fP){ return dR(fj(), fP);}
function dN(fP){ return dR(fk(), fP);}
function dO(fP){ return dR(fl(), fP);}
function dP(fP){ return dR(fm(), fP);}
function dQ(fP){ return dR(fn(), fP);}
function dR(fP, fQ){ const fR=fP(fQ);return dU.Append(dr(fR[0]), dS(fR[1], fR[2]));}
function dS(fP, fQ){ return ds(fQ, fP);}
class dT extends u0031 { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class dU { static Handler(fP, fQ){ return dU.HandlerImpl(fP, fQ);} static Concat(fP){ const fQ=d9(fP);return d7(dt(), dU.Append, fQ);} static Create(fP, fQ){ return dr((fR) => { fR.setAttribute(fP, fQ);});} static HandlerImpl(fP, fQ){ return dr((fR) => { fR.addEventListener(fP, (fS) =>(fQ(fR))(fS), false);});} static Append(fP, fQ){ return dA(fP, fQ);} static A4(fP){ return fN(dU, {$:4, $0:fP});} static A3(fP){ return fN(dU, {$:3, $0:fP});} static A1(fP){ return fN(dU, {$:1, $0:fP});} static A2(fP, fQ){ return fN(dU, {$:2, $0:fP, $1:fQ});} $;$0;$1;}
class dV extends u0031 { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function dW(fP){ return{$:0, $0:fP};}
function dX(fP){ return{$:1, $0:fP};}
class dY { static Cons(fP, fQ){ return fN(dY, {$:1, $0:fP, $1:fQ});} static Empty=fN(dY, {$:0});GetEnumerator(){ return new bS(this, null, (fP) => { const fQ=fP.s;if(fQ.$==0)return false;else { const fR=fQ.$1;fP.c=fQ.$0;fP.s=fR;return true;} }, void 0);} $;$0;$1;}
function dZ(fP, fQ){ return bs(fQ).join(fP);}
function d0(fP, fQ, fR){ return d2(fP, new RegExp("["+d3(fQ.join(""))+"]"), fR);}
function d1(fP, fQ){ return fP.substring(0, fQ.length)==fQ;}
function d2(fP, fQ, fR){ return fR===1?br((fS) => fS!=="", d4(fP, fQ)):d4(fP, fQ);}
function d3(fP){ return fP.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function d4(fP, fQ){ return fP.split(fQ);}
function d5(fP, fQ){ return bh(fP, d6(fQ));}
function d6(fP){ return fP==null?"":fP;}
function d7(fP, fQ, fR){ const fS=n(fR);function fT(fU){ return(fV) => { let fW;switch(fV<=0?0:fV===1?fU>=0&&fU<fS?1:(fW=fV,2):(fW=fV,2)){ case 0:return fP;case 1:return k(fR, fU);case 2:const fX=fV/2>>0;return fQ((fT(fU))(fX), (fT(fU+fX))(fV-fX));} };} return(fT(0))(fS);}
function d8(fP, fQ, fR, fS){ const fT=n(fS);function fU(fV){ return(fW) => { let fX;switch(fW<=0?0:fW===1?fV>=0&&fV<fT?1:(fX=fW,2):(fX=fW,2)){ case 0:return fQ;case 1:return fP(k(fS, fV));case 2:const fY=fW/2>>0;return fR((fU(fV))(fY), (fU(fV+fY))(fW-fY));} };} return(fU(0))(fT);}
function d9(fP){ if(fP instanceof Array)return fP;else if(fP instanceof dY)return bu(fP);else if(fP===null)return[];else { const fQ=[];const fR=bO(fP);try { while(fR.MoveNext())fQ.push(fR.Current);return fQ;} finally { const fS=fR;if(typeof fS=="object"&&a(fS))fR.Dispose();} } }
class d_ { c;s;v;static Create(fP){ let fQ;fQ=null;fQ=d_.New(fP, null, () => { let fR;fR=fQ.s;return fR===null?(fR=b0(fQ.c()),fQ.s=fR,b1(fR, () => { fQ.s=null;}),fR):fR;});return fQ;} static New(fP, fQ, fR){ return fN(d_, {c:fP, s:fQ, v:fR});} }
class d$ extends i { d;GetEnumerator(){ return bO(u0039((fP) => fP.V, this.d));} constructor(fP){ super();this.d=fP;} }
function ea(fP, fQ){ return{PreviousNodes:fP, Top:fQ};}
function eb(){ return ed(new u0034("New_3"));}
function ec(fP){ const fQ=[];function fR(fU, fV){ while(true)switch(fU){ case 0:if(fV!=null&&fV.$==0){ const fW=fV.$1;const fX=fV.$0;fR(0, fX);fV=fW;} else if(fV!=null&&fV.$==1){ const fY=fV.$0;fV=fY;fU=1;} else if(fV!=null&&fV.$==2){ const fZ=fV.$0;fV=fZ.Current;} else if(fV!=null&&fV.$==6){ const f0=fV.$0.Holes;return(((f1) =>(f2) => { bo(f1, f2);})(fT))(f0);} else return null;break;case 1:fQ.push(fV);fV=fV.Children;fU=0;break;} } function fS(fU){ return fR(0, fU);} function fT(fU){ return fR(1, fU);} fS(fP);return ed(new u0034("New_2", fQ));}
function ed(fP){ return{$:0, $0:fP};}
function ee(fP, fQ){ return ed(eV(fP, fQ.$0));}
function ef(fP, fQ){ return ed(eW(fP.$0, fQ.$0));}
function eg(fP){ return eX(fP.$0);}
function eh(fP, fQ){ return ed(eY(fP.$0, fQ.$0));}
function ei(fP){ return(fQ) => { try {(fP())(fQ);} catch(fR){ fQ.k(eQ(fR));} };}
function ej(fP, fQ){ return eo((fR) => { fP(eP((fS) => { if(fS.$==0){ const fT=fS.$0;en().Fork(() => { try {(fQ(fT))(fR);} catch(fU){ fR.k(eQ(fU));} });} else en().Fork(() => { fR.k(fS);});}, fR.ct));});}
function ek(){ return eT.Zero;}
function el(fP, fQ){ const fR=(ep())[0];const fS=fQ==null?fR:fQ.$0;en().Fork(() => { if(!fS.c)fP(eP((fT) => { if(fT.$==1)eq(fT.$0);}, fS));});}
function em(fP){ return(fQ) => { fQ.k(eR(fP));};}
function en(){ return eT.scheduler;}
function eo(fP){ return(fQ) => { if(fQ.ct.c)es(fQ);else fP(fQ);};}
function ep(){ return eT.defCTS;}
function eq(fP){ console.log("WebSharper: Uncaught asynchronous exception", fP);}
function er(fP){ return(fQ) => { const fR=[false];const fS=(fT) => { if(fR[0])f("A continuation provided by Async.FromContinuations was invoked multiple times");else { fR[0]=true;en().Fork(fT);} };fP((fT) => { fS(() => { fQ.k(eR(fT));});}, (fT) => { fS(() => { fQ.k(eQ(fT));});}, (fT) => { fS(() => { fQ.k(eS(fT));});});};}
function es(fP){ fP.k(eS(new fz("New", fP.ct)));}
function et(){ return eF.UseAnimations;}
function eu(fP){ return ew(bj((fQ) => fQ.$==1?G(fQ.$0):null, eH(fP.$0)));}
function ev(fP){ bo((fQ) => { if(fQ.$==0)fQ.$0();}, eH(fP.$0));}
function ew(fP){ const fQ=d9(fP);const fR=n(fQ);if(fR===0)return ey();else if(fR===1)return k(fQ, 0);else { const fS=bb(u0039((fU) => fU.Duration, fQ));const fT=bq((fU) => eA(fS, fU), fQ);return ez(fS, (fU) => { bo((fV) => { fV.Compute(fU);}, fT);});} }
function ex(fP){ return fP.$0;}
function ey(fP){ return ez(0, () => fP);}
function ez(fP, fQ){ return{Compute:fQ, Duration:fP};}
function eA(fP, fQ){ const fR=fQ.Compute;const fS=fQ.Duration;const fT=fA(() => fQ.Compute(fQ.Duration));return{Compute:(fU) => fU>=fS?fT.f():fR(fU), Duration:fP};}
let eB=fM((fP) => class fQ { static { eB=fP(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eC(fP){ let fQ=[];let fR;for(var fS in fP)fQ.push.apply(fQ, fP[fS]);return fQ;}
let eD=fM((fP) => class fQ { static { eD=fP(this);} static counter;static { this.counter=0;} });
let eE=fM((fP) => class fQ { static { eE=fP(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const fR=[1, "<table>", "</table>"];let fS=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", fR], ["tbody", fR], ["tfoot", fR], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=fS;this.defaultWrap=[0, "", ""];} });
let eF=fM((fP) => class fQ { static { eF=fP(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=eO.Custom((fR) => { const fS=fR*fR;return 3*fS-2*(fS*fR);});this.UseAnimations=true;} });
function eG(fP, fQ){ return fP.$==0?fQ:fQ.$==0?fP:{$:2, $0:fP, $1:fQ};}
function eH(fP){ const fQ=[];function fR(fS){ while(true){ if(fS.$==1)return fQ.push(fS.$0);else if(fS.$==2){ const fT=fS.$1;const fU=fS.$0;fR(fU);fS=fT;} else return fS.$==3?bo((fV) => { fQ.push(fV);}, fS.$0):null;} } fR(fP);return fQ.slice(0);}
function eI(fP){ const fQ=d9(fP);return d7(eJ(), eG, fQ);}
function eJ(){ return fD.Empty;}
class eK extends i { push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fP){ return di();} NGetEnterAnim(fP){ return di();} NGetChangeAnim(fP){ return di();} NSync(fP){ if(this.dirty){(this.push(fP))(this.value);this.dirty=false;} } constructor(fP, fQ){ super();this.push=fQ;this.value=void 0;this.dirty=false;this.updates=cK((fR) => { this.value=fR;this.dirty=true;}, fP);} }
class eL extends Error { constructor(fP, fQ){ if(fP=="New"){ fP="New_1";fQ="The given key was not present in the dictionary.";} if(fP=="New_1"){ const fR=fQ;super(fR);} } }
let eM=fM((fP) => class fQ { static { eM=fP(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(f7) =>[(f8) => { f8.addEventListener("change", () => f7.Get()!=f8.checked?f7.Set(f8.checked):null);}, (f8) =>(f9) => f9!=null&&f9.$==1?void(f8.checked=f9.$0):null, cK((f8) => G(f8), f7.View)];this.StringSet=(f7) =>(f8) => { f7.value=f8;};this.StringGet=(f7) => G(f7.value);const fR=e4();const fS=e3();this.StringApply=(f7) => e2(fR, fS, f7);this.StringListSet=(f7) =>(f8) => { const f9=f7.options;for(let f_=0, f$=f9.length-1;f_<=f$;f_++)((() => { const ga=f9.item(f_);ga.selected=c$(ga.value, f8);})());};this.StringListGet=(f7) => { const f8=f7.selectedOptions;return G(bs($(() => ba((f9) =>[f8.item(f9).value], h(0, f8.length-1)))));};const fT=e6();const fU=e5();this.StringListApply=(f7) => e2(fT, fU, f7);this.DateTimeSetUnchecked=(f7) =>(f8) => { f7.value=(new Date(f8)).toLocaleString();};this.DateTimeGetUnchecked=(f7) => { let f8;let f9;const f_=f7.value;if(fo(f_))return G(-8640000000000000);else { f8=0;const f$=fx(f_);let ga=f$!=null&&f$.$==1&&(f8=f$.$0,true);f9=[ga, f8];return f9[0]?G(f9[1]):null;} };const fV=e8();const fW=e7();this.DateTimeApplyUnchecked=(f7) => e2(fV, fW, f7);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(f7) => { const f8=f7.files;return G(bs($(() => u0039((f9) => f8.item(f9), h(0, f8.length-1)))));};const fX=e$();const fY=e_();this.FileApplyUnchecked=(f7) => e9(fX, fY, f7);this.IntSetUnchecked=(f7) =>(f8) => { f7.value=String(f8);};this.IntGetUnchecked=(f7) => { const f8=f7.value;if(fo(f8))return G(0);else { const f9=+f8;return f9!==f9>>0?null:G(f9);} };const fZ=fb();const f0=fa();this.IntApplyUnchecked=(f7) => e2(fZ, f0, f7);this.IntSetChecked=(f7) =>(f8) => { const f9=f8.Input;return f7.value!=f9?void(f7.value=f9):null;};this.IntGetChecked=(f7) => { let f8;let f9;const f_=f7.value;if(fo(f_))f8=(f7.checkValidity?f7.checkValidity():true)?fp.Blank(f_):fp.Invalid(f_);else { const f$=(f9=0,[bM(f_, {get:() => f9, set:(ga) => { f9=ga;}}), f9]);f8=f$[0]?fp.Valid(f$[1], f_):fp.Invalid(f_);} return G(f8);};const f1=fd();const f2=fc();this.IntApplyChecked=(f7) => e2(f1, f2, f7);this.FloatSetUnchecked=(f7) =>(f8) => { f7.value=String(f8);};this.FloatGetUnchecked=(f7) => { const f8=f7.value;if(fo(f8))return G(0);else { const f9=+f8;return isNaN(f9)?null:G(f9);} };const f3=ff();const f4=fe();this.FloatApplyUnchecked=(f7) => e2(f3, f4, f7);this.FloatSetChecked=(f7) =>(f8) => { const f9=f8.Input;return f7.value!=f9?void(f7.value=f9):null;};this.FloatGetChecked=(f7) => { let f8;const f9=f7.value;if(fo(f9))f8=(f7.checkValidity?f7.checkValidity():true)?fp.Blank(f9):fp.Invalid(f9);else { const f_=+f9;f8=isNaN(f_)?fp.Invalid(f9):fp.Valid(f_, f9);} return G(f8);};const f5=fh();const f6=fg();this.FloatApplyChecked=(f7) => e2(f5, f6, f7);} });
class eN extends i { idle;robin;Fork(fP){ this.robin.push(fP);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fP=Date.now();let fQ=true;while(fQ)if(this.robin.length===0){ this.idle=true;fQ=false;} else {(this.robin.shift())();Date.now()-fP>40?(setTimeout(() => { this.tick();}, 0),fQ=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} }
class eO extends i { transformTime;static Custom(fP){ return new eO(fP);} constructor(fP){ super();this.transformTime=fP;} }
function eP(fP, fQ){ return{k:fP, ct:fQ};}
function eQ(fP){ return{$:1, $0:fP};}
function eR(fP){ return{$:0, $0:fP};}
function eS(fP){ return{$:2, $0:fP};}
let eT=fM((fP) => class fQ { static { eT=fP(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=eU(false, []);this.scheduler=new eN();this.defCTS=[new fq()];this.Zero=em();this.GetCT=(fR) => { fR.k(eR(fR.ct));};} });
function eU(fP, fQ){ return{c:fP, r:fQ};}
function eV(fP, fQ){ return new u0034("New_2", br(fP, eX(fQ)));}
function eW(fP, fQ){ const fR=new u0034("New_2", eX(fQ));fR.ExceptWith(eX(fP));return fR;}
function eX(fP){ const fQ=bw(fP.Count, void 0);fP.CopyTo(fQ, 0);return fQ;}
function eY(fP, fQ){ const fR=new u0034("New_2", eX(fP));fR.IntersectWith(eX(fQ));return fR;}
function eZ(fP){ return fP.$==1?fP.$0:e1();}
function e0(fP){ return fP.$==1?fP.$1:e1();}
function e1(){ return f("The input list was empty.");}
function e2(fP, fQ, fR){ let fS;fS=null;return[(fT) => { const fU=() => { fR.UpdateMaybe((fV) => { let fW;fS=fP(fT);return fS!=null&&fS.$==1&&(!p(fS.$0, fV)&&(fW=[fS, fS.$0],true))?fW[0]:null;});};fT.addEventListener("change", fU);fT.addEventListener("input", fU);fT.addEventListener("keypress", fU);}, (fT) => { const fU=fQ(fT);return(fV) => fV==null?null:fU(fV.$0);}, cK((fT) => { let fU;return fS!=null&&fS.$==1&&(p(fS.$0, fT)&&(fU=fS.$0,true))?null:G(fT);}, fR.View)];}
function e3(){ return eM.StringSet;}
function e4(){ return eM.StringGet;}
function e5(){ return eM.StringListSet;}
function e6(){ return eM.StringListGet;}
function e7(){ return eM.DateTimeSetUnchecked;}
function e8(){ return eM.DateTimeGetUnchecked;}
function e9(fP, fQ, fR){ let fS;fS=null;return[(fT) => { fT.addEventListener("change", () => { fR.UpdateMaybe((fU) => { let fV;fS=fP(fT);return fS!=null&&fS.$==1&&(fS.$0!==fU&&(fV=[fS, fS.$0],true))?fV[0]:null;});});}, (fT) => { const fU=fQ(fT);return(fV) => fV==null?null:fU(fV.$0);}, cK((fT) => { let fU;return fS!=null&&fS.$==1&&(p(fS.$0, fT)&&(fU=fS.$0,true))?null:G(fT);}, fR.View)];}
function e_(){ return eM.FileSetUnchecked;}
function e$(){ return eM.FileGetUnchecked;}
function fa(){ return eM.IntSetUnchecked;}
function fb(){ return eM.IntGetUnchecked;}
function fc(){ return eM.IntSetChecked;}
function fd(){ return eM.IntGetChecked;}
function fe(){ return eM.FloatSetUnchecked;}
function ff(){ return eM.FloatGetUnchecked;}
function fg(){ return eM.FloatSetChecked;}
function fh(){ return eM.FloatGetChecked;}
function fi(){ return eM.StringApply;}
function fj(){ return eM.FloatApplyUnchecked;}
function fk(){ return eM.BoolCheckedApply;}
function fl(){ return eM.DateTimeApplyUnchecked;}
function fm(){ return eM.FileApplyUnchecked;}
function fn(){ return eM.StringListApply;}
function fo(fP){ return d5(fw, fP);}
class fp { get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fP){ return fN(fp, {$:2, $0:fP});} static Invalid(fP){ return fN(fp, {$:1, $0:fP});} static Valid(fP, fQ){ return fN(fp, {$:0, $0:fP, $1:fQ});} $;$0;$1;}
class fq extends i { init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} }
function fr(fP, fQ){ let fR;if(fQ!=null&&fQ.$==1){ const fS=fQ.$0[1];const fT=fQ.$0[0];const fU=[];fR=fT.nextSibling;while(fR!==fS){ fU.push(fR);fR=fR.nextSibling;} return fv(fU);} else { let fV=fP.childNodes.length;const fW=fP.childNodes;let fX=bx(fV, (fY) => fW[fY]);return fv(fX);} }
function fs(fP, fQ){ const fR=fP.$0;return fv(br((fS) => bv((fT) =>!(fS===fT), fR), fQ.$0));}
function ft(fP, fQ){ bo(fP, fQ.$0);}
function fu(fP){ const fQ=[];function fR(fS){ while(true){ if(fS!=null&&fS.$==2){ const fT=fS.$0;fS=fT.Current;} else if(fS!=null&&fS.$==1)return fQ.push(fS.$0.El);else if(fS==null)return null;else if(fS!=null&&fS.$==5)return fQ.push(fS.$0);else if(fS!=null&&fS.$==4)return fQ.push(fS.$0.Text);else if(fS!=null&&fS.$==6){ const fU=fS.$0.Els;return(((fX) =>(fY) => { bo(fX, fY);})((fX) => { if(fX==null||fX.constructor===Object)fR(fX);else fQ.push(fX);}))(fU);} else { const fV=fS.$1;const fW=fS.$0;fR(fW);fS=fV;} } } fR(fP.Children);return fv(d9(fQ));}
function fv(fP){ return{$:0, $0:fP};}
function fw(fP){ return fP.match(new RegExp("\\s"))!==null;}
function fx(fP){ const fQ=Date.parse(fP);return isNaN(fQ)?null:G(fQ);}
function fy(fP, fQ, fR, fS){ const fT=+fP;const fU=fT===fT-fT%1&&fT>=fQ&&fT<=fR;if(fU)fS.set(fT);return fU;}
class fz extends Error { ct;constructor(fP, fQ, fR, fS){ let fT;if(fP=="New"){ fT=fQ;fP="New_1";fQ="The operation was canceled.";fR=null;fS=fT;} if(fP=="New_1"){ const fU=fQ;const fV=fR;const fW=fS;super(fU);this.inner=fV;this.ct=fW;} } }
function fA(fP){ return fF(false, fP, fB);}
function fB(){ const fP=this.v();this.c=true;this.v=fP;this.f=fC;return fP;}
function fC(){ return this.v;}
let fD=fM((fP) => class fQ { static { fD=fP(this);} static Empty;static { this.Empty={$:0};} });
function fE(fP){ fP.splice(0, n(fP));}
function fF(fP, fQ, fR){ return{c:fP, v:fQ, f:fR};}
fO(() => { b();});
fG();

